From ade7555b052cb34f02ad2fc71f643282d7530bc3 Mon Sep 17 00:00:00 2001
From: RogerChang <Roger_Chang@wistron.com>
Date: Mon, 14 Mar 2022 14:47:38 +0800
Subject: [PATCH] Bugzilla#1111 - test for 6512

[Bug/Feature]

[Root Causes]

[Solution]
---
 .../Wistron_6512_32r/buffers.json.j2               |  38 --
 .../Wistron_6512_32r/buffers_defaults_def_lossy.j2 |  38 --
 .../Wistron_6512_32r/buffers_defaults_t1.j2        | 137 -------
 .../config_32x400G_wistron_sw_to3200k.yaml         | 426 ---------------------
 .../Wistron_6512_32r/innovium.77700_A              |  59 ---
 .../Wistron_6512_32r/innovium.77700_B              |  59 ---
 .../Wistron_6512_32r/ivm.sai.config.yaml           |   9 -
 .../Wistron_6512_32r/ivm.sai.datapath.config.yaml  |   9 -
 .../Wistron_6512_32r/pg_profile_lookup.ini         |  18 -
 .../Wistron_6512_32r/port_config.ini               |  33 --
 .../Wistron_6512_32r/qos.json.j2                   | 118 ------
 .../Wistron_6512_32r/qos_defaults_def_lossy.j2     | 118 ------
 .../Wistron_6512_32r/qos_defaults_t1.j2            | 114 ------
 .../Wistron_6512_32r/sai.profile                   |   1 -
 .../wistron/x86_64-wistron_6512_32r-r0/default_sku |   2 +-
 .../x86_64-wistron_6512_32r-r0/installer.conf      |   1 +
 .../x86_64-wistron_6512_32r-r0/libplatform.so      | Bin 0 -> 26640 bytes
 .../x86_64-wistron_6512_32r-r0/plugins/eeprom.py   |   2 +-
 .../x86_64-wistron_6512_32r-r0/plugins/sfputil.py  | 136 ++++---
 .../sonic_platform/__init__.py                     |   2 +
 .../sonic_platform/chassis.py                      |  41 +-
 .../sonic_platform/eeprom.py                       |   5 +-
 .../sonic_platform/fan.py                          |   2 +-
 .../sonic_platform/sfp.py                          |  85 ++--
 .../wistron_6512_32r/6512-32_32x400G.config.yaml   | 414 ++++++++++++++++++++
 .../wistron_6512_32r/buffers.json.j2               | 161 ++++++++
 .../wistron_6512_32r/buffers_defaults_def_lossy.j2 |  42 ++
 .../wistron_6512_32r/buffers_defaults_t1.j2        | 161 ++++++++
 .../wistron_6512_32r/innovium.77700_A              |  59 +++
 .../wistron_6512_32r/innovium.77700_B              |  59 +++
 .../wistron_6512_32r/ivm.sai.config.yaml           |   9 +
 .../wistron_6512_32r/ivm.sai.datapath.config.yaml  |   9 +
 .../wistron_6512_32r/pg_profile_lookup.ini         |  22 ++
 .../wistron_6512_32r/port_config.ini               |  33 ++
 .../wistron_6512_32r/qos.json.j2                   | 129 +++++++
 .../wistron_6512_32r/qos_defaults_def_lossy.j2     | 121 ++++++
 .../wistron_6512_32r/qos_defaults_t1.j2            | 129 +++++++
 .../wistron_6512_32r/sai.profile                   |   1 +
 .../6512-32r/modules/wistron_6512_32r_fan.c        |   2 +-
 .../6512-32r/modules/wistron_6512_32r_oom.c        |   2 +-
 .../6512-32r/modules/wistron_6512_32r_psu.c        |   2 +-
 .../6512-32r/modules/wistron_6512_32r_syseeprom.c  |   2 +-
 .../6512-32r/modules/wistron_6512_32r_thermal.c    |   2 +-
 .../6512-32r/utils/platform_syseeprom              |   2 +-
 .../6512-32r/utils/sonic-fanthrml-monitor          | 224 ++++++++---
 .../6512-32r/utils/sonic-led-monitor               |  15 +-
 .../6512-32r/utils/sonic-psu-monitor               |  92 +++--
 .../6512-32r/utils/sonic-qsfp-monitor              | 169 ++++----
 .../6512-32r/utils/wistron_6512_32r_util.py        |  60 ++-
 49 files changed, 1914 insertions(+), 1460 deletions(-)
 delete mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers.json.j2
 delete mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers_defaults_def_lossy.j2
 delete mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers_defaults_t1.j2
 delete mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/config_32x400G_wistron_sw_to3200k.yaml
 delete mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/innovium.77700_A
 delete mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/innovium.77700_B
 delete mode 100755 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/ivm.sai.config.yaml
 delete mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/ivm.sai.datapath.config.yaml
 delete mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/pg_profile_lookup.ini
 delete mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/port_config.ini
 delete mode 100755 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos.json.j2
 delete mode 100755 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos_defaults_def_lossy.j2
 delete mode 100755 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos_defaults_t1.j2
 delete mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/sai.profile
 create mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/libplatform.so
 create mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/6512-32_32x400G.config.yaml
 create mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers.json.j2
 create mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers_defaults_def_lossy.j2
 create mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers_defaults_t1.j2
 create mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/innovium.77700_A
 create mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/innovium.77700_B
 create mode 100755 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/ivm.sai.config.yaml
 create mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/ivm.sai.datapath.config.yaml
 create mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/pg_profile_lookup.ini
 create mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/port_config.ini
 create mode 100755 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos.json.j2
 create mode 100755 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos_defaults_def_lossy.j2
 create mode 100755 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos_defaults_t1.j2
 create mode 100644 device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/sai.profile

diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers.json.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers.json.j2
deleted file mode 100644
index 1a31812..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers.json.j2
+++ /dev/null
@@ -1,38 +0,0 @@
-{% set port_names_list = [] %}
-{% for port in PORT %}
-    {%- if port_names_list.append(port) %}{% endif %}
-{% endfor %}
-{% set port_names = port_names_list | join(',') -%}
-
-{
-    "BUFFER_POOL": {
-        "lossy_pool": {
-            "size": "56985600",
-            "type": "egress",
-            "mode": "dynamic",
-            "xoff": "0"
-        }
-    },
-    "BUFFER_PROFILE": {
-        "ingress_lossy_profile": {
-            "pool":"[BUFFER_POOL|lossy_pool]",
-            "size":"0",
-            "static_th":"9497600"
-        },
-        "egress_lossy_profile": {
-            "pool":"[BUFFER_POOL|lossy_pool]",
-            "size":"1518",
-            "dynamic_th":"2"
-        }
-    },
-    "BUFFER_PG": {
-        "{{ port_names }}|0-7": {
-            "profile" : "[BUFFER_PROFILE|ingress_lossy_profile]"
-        }
-    },
-    "BUFFER_QUEUE": {
-            "{{ port_names }}|0-7": {
-            "profile" : "[BUFFER_PROFILE|egress_lossy_profile]"
-        }
-    }
-}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers_defaults_def_lossy.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers_defaults_def_lossy.j2
deleted file mode 100644
index 1a31812..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers_defaults_def_lossy.j2
+++ /dev/null
@@ -1,38 +0,0 @@
-{% set port_names_list = [] %}
-{% for port in PORT %}
-    {%- if port_names_list.append(port) %}{% endif %}
-{% endfor %}
-{% set port_names = port_names_list | join(',') -%}
-
-{
-    "BUFFER_POOL": {
-        "lossy_pool": {
-            "size": "56985600",
-            "type": "egress",
-            "mode": "dynamic",
-            "xoff": "0"
-        }
-    },
-    "BUFFER_PROFILE": {
-        "ingress_lossy_profile": {
-            "pool":"[BUFFER_POOL|lossy_pool]",
-            "size":"0",
-            "static_th":"9497600"
-        },
-        "egress_lossy_profile": {
-            "pool":"[BUFFER_POOL|lossy_pool]",
-            "size":"1518",
-            "dynamic_th":"2"
-        }
-    },
-    "BUFFER_PG": {
-        "{{ port_names }}|0-7": {
-            "profile" : "[BUFFER_PROFILE|ingress_lossy_profile]"
-        }
-    },
-    "BUFFER_QUEUE": {
-            "{{ port_names }}|0-7": {
-            "profile" : "[BUFFER_PROFILE|egress_lossy_profile]"
-        }
-    }
-}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers_defaults_t1.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers_defaults_t1.j2
deleted file mode 100644
index 93dac6b..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/buffers_defaults_t1.j2
+++ /dev/null
@@ -1,137 +0,0 @@
-{# Default values which will be used if no actual configura available #}
-{% set default_cable = '40m' %}
-
-{# Port configuration to cable length look-up table #}
-{# Each record describes mapping of DUT (DUT port) role and neighbor role to cable length #}
-{# Roles described in the minigraph #}
-{% set ports2cable = {
-        'torrouter_server'       : '5m',
-        'leafrouter_torrouter'   : '40m',
-        'spinerouter_leafrouter' : '300m'
-        }
-%}
-
-{%- macro cable_length(port_name) %}
-    {%- set cable_len = [] %}
-    {%- for local_port in DEVICE_NEIGHBOR %}
-        {%- if local_port == port_name %}
-            {%- if DEVICE_NEIGHBOR_METADATA is defined and DEVICE_NEIGHBOR_METADATA[DEVICE_NEIGHBOR[local_port].name] %}
-                {%- set neighbor = DEVICE_NEIGHBOR_METADATA[DEVICE_NEIGHBOR[local_port].name] %}
-                {%- set neighbor_role = neighbor.type %}
-                {%- set roles1 = switch_role + '_' + neighbor_role %}
-                {%- set roles2 = neighbor_role + '_' + switch_role %}
-                {%- set roles1 = roles1 | lower %}
-                {%- set roles2 = roles2 | lower %}
-                {%- if roles1 in ports2cable %}
-                    {%- if cable_len.append(ports2cable[roles1]) %}{% endif %}
-                {%- elif roles2 in ports2cable %}
-                    {%- if cable_len.append(ports2cable[roles2]) %}{% endif %}
-                {%- endif %}
-            {%- endif %}
-        {%- endif %}
-    {%- endfor %}
-    {%- if cable_len -%}
-        {{ cable_len.0 }}
-    {%- else %}
-        {%- if switch_role.lower() == 'torrouter' %}
-            {%- for local_port in VLAN_MEMBER %}
-                {%- if local_port[1] == port_name %}
-                    {%- set roles3 = switch_role + '_' + 'server' %}
-                    {%- set roles3 = roles3 | lower %}
-                    {%- if roles3 in ports2cable %}
-                        {%- if cable_len.append(ports2cable[roles3]) %}{% endif %}
-                    {%- endif %}
-                {%- endif %}
-            {%- endfor %}
-            {%- if cable_len -%}
-                {{ cable_len.0 }}
-            {%- else -%}
-                {{ default_cable }}
-            {%- endif %}
-        {%- else -%}
-            {{ default_cable }}
-        {%- endif %}
-    {%- endif %}
-{%- endmacro %}
-
-{%- if DEVICE_METADATA is defined %}
-{%- set switch_role = DEVICE_METADATA['localhost']['type'] %}
-{%- endif -%}
-
-{% set port_names_list = [] %}
-{% for port in PORT %}
-    {%- if port_names_list.append(port) %}{% endif %}
-{% endfor %}
-{% set port_names = port_names_list | join(',') -%}
-
-{
-    "CABLE_LENGTH": {
-        "AZURE": {
-    {% for port in PORT %}
-        {% set cable = cable_length(port) -%}
-        "{{ port }}": "{{ cable }}"{%- if not loop.last -%},{% endif %}
-
-    {% endfor %}
-    }
-    },
-    "BUFFER_POOL": {
-        "ingress_lossless_pool": {
-            "size": "47218432",
-            "type": "ingress",
-            "mode": "dynamic",
-            "xoff": "17708800"
-        },
-        "lossy_pool": {
-            "size": "18874368",
-            "type": "egress",
-            "mode": "dynamic",
-            "xoff": "0"
-        }
-    },
-    "BUFFER_PROFILE": {
-        "ingress_lossless_profile": {
-            "pool":"[BUFFER_POOL|ingress_lossless_pool]",
-            "xoff":"38816",
-            "size":"1518",
-            "dynamic_th":"1",
-            "xon_offset":"13440"
-        },
-        "egress_lossless_profile": {
-            "pool":"[BUFFER_POOL|ingress_lossless_pool]",
-            "size":"0",
-            "static_th":"9497600"
-        },
-        "ingress_lossy_profile": {
-            "pool":"[BUFFER_POOL|lossy_pool]",
-            "size":"0",
-            "static_th":"9497600"
-        },
-        "egress_lossy_profile": {
-            "pool":"[BUFFER_POOL|lossy_pool]",
-            "size":"1518",
-            "dynamic_th":"2"
-        }
-    },
-    "BUFFER_PG": {
-        "{{ port_names }}|0-2": {
-            "profile" : "[BUFFER_PROFILE|ingress_lossy_profile]"
-        },
-        "{{ port_names }}|3-4": {
-            "profile" : "[BUFFER_PROFILE|ingress_lossless_profile]"
-        },
-        "{{ port_names }}|5-7": {
-            "profile" : "[BUFFER_PROFILE|ingress_lossy_profile]"
-        }
-    },
-    "BUFFER_QUEUE": {
-        "{{ port_names }}|3-4": {
-            "profile" : "[BUFFER_PROFILE|egress_lossless_profile]"
-        },
-        "{{ port_names }}|0-2": {
-            "profile" : "[BUFFER_PROFILE|egress_lossy_profile]"
-        },
-        "{{ port_names }}|5-7": {
-            "profile" : "[BUFFER_PROFILE|egress_lossy_profile]"
-        }
-    }
-}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/config_32x400G_wistron_sw_to3200k.yaml b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/config_32x400G_wistron_sw_to3200k.yaml
deleted file mode 100644
index 2bcf582..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/config_32x400G_wistron_sw_to3200k.yaml
+++ /dev/null
@@ -1,426 +0,0 @@
-ifcs:
-  options:
-    log_level: "info"
-nodes:
-- node_id: "0"
-  options:
-    sd_low_power_mode_global_default: "true"
-    sku: "configs/sku/innovium.77700_A"
-    netdev:
-    - auto_create: "no"
-      multi_interface: "yes"
-    buffer_management_mode: "api_driven"
-    max_lossless_tc: "2"
-    ilpm_enable: "1"
-    forward_profile: "IFCS_FORWARD_PROFILE_ID_PROFILE_E"
-    ecn_stats_enable: "1"
-    pcie_attn: "10, 0, 0, 0"
-    pcie_post: "10, 18, 18, 18"
-    pcie_pre1: "0, 0, 0, 0"
-    led_cfg_sck_rate: "0x5"
-    led_refresh_precliff_timer: "0x18eec2"
-    led_refresh_cliff_timer: "0x15e"
-    led_cfg_pic_stream_mode: "1"
-    led_refresh_tmr_ctl_enable: "1"
-    txring:
-    - txring_id: "0"
-      desc_count: "1024"
-      prio: "1"
-      netdev: "true"
-    - txring_id: "1"
-      desc_count: "1024"
-      prio: "1"
-      netdev: "true"
-    - txring_id: "2"
-      desc_count: "1024"
-      prio: "1"
-      netdev: "true"
-    - txring_id: "3"
-      desc_count: "1024"
-      prio: "1"
-      netdev: "true"
-    rxring:
-    - rxring_id: "0"
-      desc_count: "1024"
-      prio: "1"
-      netdev: "true"
-      queues: "0, 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39"
-    - rxring_id: "1"
-      desc_count: "1024"
-      prio: "1"
-      netdev: "true"
-      queues: "1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40"
-    - rxring_id: "2"
-      desc_count: "1024"
-      prio: "1"
-      netdev: "true"
-      queues: "2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 47"
-    - rxring_id: "3"
-      desc_count: "1024"
-      prio: "1"
-      queues: "42, 43, 44, 45, 46"
-    sys_clk: "1720"
-    ifc_clk: "1200"
-    mac_clk: "1340"
-
-  devports:
-  - id: "0"
-    sysport: "1000"
-    type: "cpu"
-  - fec: "KPFEC"
-    id: "89"
-    lanes: "0:8"
-    serdes_group: "11"
-    speed: "400G"
-    sysport: "89"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "81"
-    lanes: "0:8"
-    serdes_group: "10"
-    speed: "400G"
-    sysport: "81"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "73"
-    lanes: "0:8"
-    serdes_group: "9"
-    speed: "400G"
-    sysport: "73"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "65"
-    lanes: "0:8"
-    serdes_group: "8"
-    speed: "400G"
-    sysport: "65"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "57"
-    lanes: "0:8"
-    serdes_group: "7"
-    speed: "400G"
-    sysport: "57"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "49"
-    lanes: "0:8"
-    serdes_group: "6"
-    speed: "400G"
-    sysport: "49"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "41"
-    lanes: "0:8"
-    serdes_group: "5"
-    speed: "400G"
-    sysport: "41"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "33"
-    lanes: "0:8"
-    serdes_group: "4"
-    speed: "400G"
-    sysport: "33"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "153"
-    lanes: "0:8"
-    serdes_group: "19"
-    speed: "400G"
-    sysport: "153"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "145"
-    lanes: "0:8"
-    serdes_group: "18"
-    speed: "400G"
-    sysport: "145"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "137"
-    lanes: "0:8"
-    serdes_group: "17"
-    speed: "400G"
-    sysport: "137"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "129"
-    lanes: "0:8"
-    serdes_group: "16"
-    speed: "400G"
-    sysport: "129"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "121"
-    lanes: "0:8"
-    serdes_group: "15"
-    speed: "400G"
-    sysport: "121"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "113"
-    lanes: "0:8"
-    serdes_group: "14"
-    speed: "400G"
-    sysport: "113"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "105"
-    lanes: "0:8"
-    serdes_group: "13"
-    speed: "400G"
-    sysport: "105"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "97"
-    lanes: "0:8"
-    serdes_group: "12"
-    speed: "400G"
-    sysport: "97"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "209"
-    lanes: "0:8"
-    serdes_group: "26"
-    speed: "400G"
-    sysport: "209"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "217"
-    lanes: "0:8"
-    serdes_group: "27"
-    speed: "400G"
-    sysport: "217"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "193"
-    lanes: "0:8"
-    serdes_group: "24"
-    speed: "400G"
-    sysport: "193"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "201"
-    lanes: "0:8"
-    serdes_group: "25"
-    speed: "400G"
-    sysport: "201"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "177"
-    lanes: "0:8"
-    serdes_group: "22"
-    speed: "400G"
-    sysport: "177"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "185"
-    lanes: "0:8"
-    serdes_group: "23"
-    speed: "400G"
-    sysport: "185"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "161"
-    lanes: "0:8"
-    serdes_group: "20"
-    speed: "400G"
-    sysport: "161"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "169"
-    lanes: "0:8"
-    serdes_group: "21"
-    speed: "400G"
-    sysport: "169"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "17"
-    lanes: "0:8"
-    serdes_group: "2"
-    speed: "400G"
-    sysport: "17"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "25"
-    lanes: "0:8"
-    serdes_group: "3"
-    speed: "400G"
-    sysport: "25"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "1"
-    lanes: "0:8"
-    serdes_group: "0"
-    speed: "400G"
-    sysport: "1"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "9"
-    lanes: "0:8"
-    serdes_group: "1"
-    speed: "400G"
-    sysport: "9"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "241"
-    lanes: "0:8"
-    serdes_group: "30"
-    speed: "400G"
-    sysport: "241"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "249"
-    lanes: "0:8"
-    serdes_group: "31"
-    speed: "400G"
-    sysport: "249"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "225"
-    lanes: "0:8"
-    serdes_group: "28"
-    speed: "400G"
-    sysport: "225"
-    type: "eth"
-  - fec: "KPFEC"
-    id: "233"
-    lanes: "0:8"
-    serdes_group: "29"
-    speed: "400G"
-    sysport: "233"
-    type: "eth"
-  isg:
-  - id: "0"
-    tx_polarity: "00000000"
-    rx_polarity: "10000010"
-    lane_swap: "57234601"
-  - id: "1"
-    tx_polarity: "01000101"
-    rx_polarity: "01110011"
-    lane_swap: "51364072"
-  - id: "2"
-    tx_polarity: "00000000"
-    rx_polarity: "00000010"
-    lane_swap: "57043621"
-  - id: "3"
-    tx_polarity: "00000110"
-    rx_polarity: "00100111"
-    lane_swap: "56024371"
-  - id: "4"
-    tx_polarity: "00110101"
-    rx_polarity: "00010000"
-    lane_swap: "65137402"
-  - id: "5"
-    tx_polarity: "00000000"
-    rx_polarity: "00100000"
-    lane_swap: "61704253"
-  - id: "6"
-    tx_polarity: "10010010"
-    rx_polarity: "00000100"
-    lane_swap: "64027315"
-  - id: "7"
-    tx_polarity: "00000000"
-    rx_polarity: "10111011"
-    lane_swap: "60714253"
-  - id: "8"
-    tx_polarity: "10100110"
-    rx_polarity: "00010101"
-    lane_swap: "67042315"
-  - id: "9"
-    tx_polarity: "00000000"
-    rx_polarity: "11010000"
-    lane_swap: "20716453"
-  - id: "10"
-    tx_polarity: "00010000"
-    rx_polarity: "00000000"
-    lane_swap: "57026314"
-  - id: "11"
-    tx_polarity: "00000000"
-    rx_polarity: "00010000"
-    lane_swap: "37014625"
-  - id: "12"
-    tx_polarity: "00100001"
-    rx_polarity: "00110111"
-    lane_swap: "50473216"
-  - id: "13"
-    tx_polarity: "00001000"
-    rx_polarity: "11010001"
-    lane_swap: "16345702"
-  - id: "14"
-    tx_polarity: "11010110"
-    rx_polarity: "01100100"
-    lane_swap: "64107352"
-  - id: "15"
-    tx_polarity: "00100000"
-    rx_polarity: "01001011"
-    lane_swap: "46325710"
-  - id: "16"
-    tx_polarity: "10011001"
-    rx_polarity: "00110001"
-    lane_swap: "54216730"
-  - id: "17"
-    tx_polarity: "00001001"
-    rx_polarity: "11000000"
-    lane_swap: "25176304"
-  - id: "18"
-    tx_polarity: "00001000"
-    rx_polarity: "01101010"
-    lane_swap: "73405612"
-  - id: "19"
-    tx_polarity: "00110100"
-    rx_polarity: "10001010"
-    lane_swap: "25176304"
-  - id: "20"
-    tx_polarity: "00000000"
-    rx_polarity: "00100000"
-    lane_swap: "45617230"
-  - id: "21"
-    tx_polarity: "11100001"
-    rx_polarity: "00010011"
-    lane_swap: "46720531"
-  - id: "22"
-    tx_polarity: "00000000"
-    rx_polarity: "11110111"
-    lane_swap: "47236501"
-  - id: "23"
-    tx_polarity: "10100001"
-    rx_polarity: "00000000"
-    lane_swap: "76245301"
-  - id: "24"
-    tx_polarity: "01000000"
-    rx_polarity: "00111100"
-    lane_swap: "47316520"
-  - id: "25"
-    tx_polarity: "10111110"
-    rx_polarity: "00000001"
-    lane_swap: "61072543"
-  - id: "26"
-    tx_polarity: "00100000"
-    rx_polarity: "01111000"
-    lane_swap: "51627430"
-  - id: "27"
-    tx_polarity: "10101001"
-    rx_polarity: "00000000"
-    lane_swap: "24017536"
-  - id: "28"
-    tx_polarity: "00000000"
-    rx_polarity: "10000010"
-    lane_swap: "26073514"
-  - id: "29"
-    tx_polarity: "01001000"
-    rx_polarity: "00000000"
-    lane_swap: "43027615"
-  - id: "30"
-    tx_polarity: "00000000"
-    rx_polarity: "11010010"
-    lane_swap: "47235601"
-  - id: "31"
-    tx_polarity: "11111100"
-    rx_polarity: "00000010"
-    lane_swap: "46025713"
-  - id: "32"
-    tx_polarity: "00000000"
-    rx_polarity: "00000000"
-    lane_swap: "01234567"
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/innovium.77700_A b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/innovium.77700_A
deleted file mode 100644
index 84aa419..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/innovium.77700_A
+++ /dev/null
@@ -1,59 +0,0 @@
-sku:               innovium.77700_A
-
-device_id:         0x1b58
-
-# Hardware constraint information
-hardware:
-        num_ibs:           6
-
-        ports_per_ib:      32, 32, 32, 32, 20, 20
-        recirc_port_num:   32, 32, 32, 32, 32, 32
-        cpu_port_num:      33
-        cpu_port_ib:       0
-        mgmt_port_num:     33
-        mgmt_port_ibs:     1,2
-
-        pics_per_ib:       6, 7, 6, 5, 5, 5
-        pic_ports_per_pic: 8
-        max_serdes_speed:  50
-
-        num_shared_pics: 2
-
-        isg [0-4]:
-            ib: 0
-            pic_id: [0-4]
-
-        isg [5-9]:
-            ib: 5
-            pic_id: [0-4]
-
-        isg [10-14]:
-            ib: 1
-            pic_id: [0-4]
-
-        isg [16-20]:
-            ib: 3
-            pic_id: [0-4]
-
-        isg [21-25]:
-            ib: 4
-            pic_id: [0-4]
-
-        isg [26-30]:
-            ib: 2
-            pic_id: [0-4]
-
-        isg 15:
-            mode: 8:0
-            ib: 1
-            pic_id: 5
-
-        isg 31:
-            mode: 8:0
-            ib: 0
-            pic_id: 5
-
-        isg 32:
-            mode: 1:1
-            ib: 1, 2
-            pic_id: 6
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/innovium.77700_B b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/innovium.77700_B
deleted file mode 100644
index 27297b3..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/innovium.77700_B
+++ /dev/null
@@ -1,59 +0,0 @@
-sku:               innovium.77700_B
-
-device_id:         0x1b58
-
-# Hardware constraint information
-hardware:
-        num_ibs:           6
-
-        ports_per_ib:      32, 32, 32, 32, 20, 20
-        recirc_port_num:   32, 32, 32, 32, 32, 32
-        cpu_port_num:      33
-        cpu_port_ib:       0
-        mgmt_port_num:     33
-        mgmt_port_ibs:     1,2
-
-        pics_per_ib:       6, 7, 7, 6, 5, 5
-        pic_ports_per_pic: 8
-        max_serdes_speed:  50
-
-        num_shared_pics: 2
-
-        isg [0-4]:
-            ib: 0
-            pic_id: [0-4]
-
-        isg [5-9]:
-            ib: 5
-            pic_id: [0-4]
-
-        isg [10-14]:
-            ib: 1
-            pic_id: [0-4]
-
-        isg [16-20]:
-            ib: 3
-            pic_id: [0-4]
-
-        isg [21-25]:
-            ib: 4
-            pic_id: [0-4]
-
-        isg [26-30]:
-            ib: 2
-            pic_id: [0-4]
-
-        isg 15:
-            mode: 4:4
-            ib: 1, 3
-            pic_id: 5
-
-        isg 31:
-            mode: 4:4
-            ib: 0, 2
-            pic_id: 5
-
-        isg 32:
-            mode: 1:1
-            ib: 1, 2
-            pic_id: 6
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/ivm.sai.config.yaml b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/ivm.sai.config.yaml
deleted file mode 100755
index 0c1644a..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/ivm.sai.config.yaml
+++ /dev/null
@@ -1,9 +0,0 @@
-IFCS_INIT_FILE : "/usr/share/sonic/hwsku/config_32x400G_wistron_sw_to3200k.yaml"
-IFCS_SKU_FILE : "/usr/share/sonic/hwsku/innovium.77700_A"
-IFCS_INNO_CLI_PORT : "9999"
-IFCS_TARGET : "device"
-INNOVIUM_DIR : "/innovium"
-PYTHONPATH : "$INNOVIUM_DIR:$INNOVIUM_DIR/cmds:$INNOVIUM_DIR/scripts:$INNOVIUM_DIR/test/:$INNOVIUM_DIR/test/utils:$INNOVIUM_DIR/utils:$INNOVIUM_DIR/pyctypes"
-PLATFORM_LIBRARY: "/usr/share/sonic/platform/lib_ivm_serdes_pltfm.so"
-IVM_SAI_DATAPATH_CONFIG_FILE: "/usr/share/sonic/hwsku/ivm.sai.datapath.config.yaml"
-IVM_SAI_PARAM_A0008: "32"
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/ivm.sai.datapath.config.yaml b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/ivm.sai.datapath.config.yaml
deleted file mode 100644
index 891b0b3..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/ivm.sai.datapath.config.yaml
+++ /dev/null
@@ -1,9 +0,0 @@
-ISAI_PARAM_P0_0_LS : "4608 4608 4608 4608 2880 2880"
-ISAI_PARAM_P0_1_LS : "2226 1946 1946 1890 1218 1218"
-ISAI_PARAM_P0_1_ALS : "434 154 154 98 98 98"
-ISAI_PARAM_P1_0_LS : "1536 1536 1536 1536 960 960"
-ISAI_PARAM_P1_0_LL : "3072 3072 3072 3072 1920 1920"
-ISAI_PARAM_P1_1_LS : "1778 1498 1498 1442 938 938"
-ISAI_PARAM_P1_1_LL : "2478 2478 2478 2478 2478 2478"
-ISAI_PARAM_P1_1_ALS : "434 154 154 98 98 98"
-ISAI_PARAM_P1_1_ALL : "126 126 126 126 126 126"
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/pg_profile_lookup.ini b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/pg_profile_lookup.ini
deleted file mode 100644
index adcb52a..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/pg_profile_lookup.ini
+++ /dev/null
@@ -1,18 +0,0 @@
-# PG lossless profiles.
-# speed   cable size  xon  xoff  threshold xon_offset
-  25000   5m    1518  0    15680   1       13440
-  50000   5m    1518  0    21248   1       13440
-  100000  5m    1518  0    34624   1       13440
-  400000  5m    1518  0    117536  1       13440
-  25000   40m   1518  0    16928   1       13440
-  50000   40m   1518  0    23392   1       13440
-  100000  40m   1518  0    38816   1       13440
-  400000  40m   1518  0    135520  1       13440
-  25000   100m  1518  0    18848   1       13440
-  50000   100m  1518  0    27264   1       13440
-  100000  100m  1518  0    46496   1       13440
-  400000  100m  1518  0    166688  1       13440
-  25000   300m  1518  0    25184   1       13440
-  50000   300m  1518  0    40128   1       13440
-  100000  300m  1518  0    72384   1       13440
-  400000  300m  1518  0    268640  1       13440
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/port_config.ini b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/port_config.ini
deleted file mode 100644
index 66220e6..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/port_config.ini
+++ /dev/null
@@ -1,33 +0,0 @@
-# name              lanes                               alias       speed       index   mtu      fec
-Ethernet0           89,90,91,92,93,94,95,96             Eth1        400000      0       9126     rs
-Ethernet8           81,82,83,84,85,86,87,88             Eth2        400000      1       9126     rs
-Ethernet16          73,74,75,76,77,78,79,80             Eth3        400000      2       9126     rs
-Ethernet24          65,66,67,68,69,70,71,72             Eth4        400000      3       9126     rs
-Ethernet32          57,58,59,60,61,62,63,64             Eth5        400000      4       9126     rs
-Ethernet40          49,50,51,52,53,54,55,56             Eth6        400000      5       9126     rs
-Ethernet48          41,42,43,44,45,46,47,48             Eth7        400000      6       9126     rs
-Ethernet56          33,34,35,36,37,38,39,40             Eth8        400000      7       9126     rs
-Ethernet64          153,154,155,156,157,158,159,160     Eth9        400000      8       9126     rs
-Ethernet72          145,146,147,148,149,150,151,152     Eth10       400000      9       9126     rs
-Ethernet80          137,138,139,140,141,142,143,144     Eth11       400000      10      9126     rs
-Ethernet88          129,130,131,132,133,134,135,136     Eth12       400000      11      9126     rs
-Ethernet96          121,122,123,124,125,126,127,128     Eth13       400000      12      9126     rs
-Ethernet104         113,114,115,116,117,118,119,120     Eth14       400000      13      9126     rs
-Ethernet112         105,106,107,108,109,110,111,112     Eth15       400000      14      9126     rs
-Ethernet120         97,98,99,100,101,102,103,104        Eth16       400000      15      9126     rs
-Ethernet128         209,210,211,212,213,214,215,216     Eth17       400000      16      9126     rs
-Ethernet136         217,218,219,220,221,222,223,224     Eth18       400000      17      9126     rs
-Ethernet144         193,194,195,196,197,198,199,200     Eth19       400000      18      9126     rs
-Ethernet152         201,202,203,204,205,206,207,208     Eth20       400000      19      9126     rs
-Ethernet160         177,178,179,180,181,182,183,184     Eth21       400000      20      9126     rs
-Ethernet168         185,186,187,188,189,190,191,192     Eth22       400000      21      9126     rs
-Ethernet176         161,162,163,164,165,166,167,168     Eth23       400000      22      9126     rs
-Ethernet184         169,170,171,172,173,174,175,176     Eth24       400000      23      9126     rs
-Ethernet192         17,18,19,20,21,22,23,24             Eth25       400000      24      9126     rs
-Ethernet200         25,26,27,28,29,30,31,32             Eth26       400000      25      9126     rs
-Ethernet208         1,2,3,4,5,6,7,8                     Eth27       400000      26      9126     rs
-Ethernet216         9,10,11,12,13,14,15,16              Eth28       400000      27      9126     rs
-Ethernet224         241,242,243,244,245,246,247,248     Eth29       400000      28      9126     rs
-Ethernet232         249,250,251,252,253,254,255,256     Eth30       400000      29      9126     rs
-Ethernet240         225,226,227,228,229,230,231,232     Eth31       400000      30      9126     rs
-Ethernet248         233,234,235,236,237,238,239,240     Eth32       400000      31      9126     rs
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos.json.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos.json.j2
deleted file mode 100755
index 104d2d7..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos.json.j2
+++ /dev/null
@@ -1,118 +0,0 @@
-{% set port_names_list = [] %}
-{% for port in PORT %}
-    {%- if port_names_list.append(port) %}{% endif %}
-{% endfor %}
-{% set port_names = port_names_list | join(',') -%}
-
-
-{
-   "TC_TO_QUEUE_MAP":{
-        "AZURE":{
-            "0":"0",
-            "1":"1",
-            "2":"2",
-            "3":"3",
-            "4":"4",
-            "5":"5",
-            "6":"6",
-            "7":"7"
-        }
-    },
-    "TC_TO_PRIORITY_GROUP_MAP": {
-    "AZURE": {
-        "0": "0",
-        "1": "0",
-        "2": "0",
-        "3": "3",
-        "4": "4",
-        "5": "0",
-        "6": "0",
-        "7": "0"
-    }
-    },
-       "DSCP_TO_TC_MAP": {
-        "AZURE": {
-            "0":"0",
-            "1":"0",
-            "2":"0",
-            "3":"0",
-            "4":"0",
-            "5":"0",
-            "6":"0",
-            "7":"0",
-            "8":"0",
-            "9":"0",
-            "10":"0",
-            "11":"0",
-            "12":"0",
-            "13":"0",
-            "14":"0",
-            "15":"0",
-            "16":"0",
-            "17":"0",
-            "18":"0",
-            "19":"0",
-            "20":"0",
-            "21":"0",
-            "22":"0",
-            "23":"0",
-            "24":"0",
-            "25":"0",
-            "26":"0",
-            "27":"0",
-            "28":"0",
-            "29":"0",
-            "30":"0",
-            "31":"0",
-            "32":"0",
-            "33":"0",
-            "34":"0",
-            "35":"0",
-            "36":"0",
-            "37":"0",
-            "38":"0",
-            "39":"0",
-            "40":"0",
-            "41":"0",
-            "42":"0",
-            "43":"0",
-            "44":"0",
-            "45":"0",
-            "46":"0",
-            "47":"0",
-            "48":"0",
-            "49":"0",
-            "50":"0",
-            "51":"0",
-            "52":"0",
-            "53":"0",
-            "54":"0",
-            "55":"0",
-            "56":"0",
-            "57":"0",
-            "58":"0",
-            "59":"0",
-            "60":"0",
-            "61":"0",
-            "62":"0",
-            "63":"0"
-        }
-    },
-    "PORT_QOS_MAP": {
-       "{{ port_names }}": {
-            "tc_to_pg_map": "[TC_TO_PRIORITY_GROUP_MAP|AZURE]",
-            "tc_to_queue_map": "[TC_TO_QUEUE_MAP|AZURE]",
-            "dscp_to_tc_map": "[DSCP_TO_TC_MAP|AZURE]"
-        }
-    },
-    "SCHEDULER": {
-        "scheduler.7": {
-            "type": "STRICT"
-        }
-    },
-    "QUEUE": {
-        "{{ port_names }}|7": {
-            "scheduler": "[SCHEDULER|scheduler.7]"
-        }
-    }
-}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos_defaults_def_lossy.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos_defaults_def_lossy.j2
deleted file mode 100755
index 104d2d7..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos_defaults_def_lossy.j2
+++ /dev/null
@@ -1,118 +0,0 @@
-{% set port_names_list = [] %}
-{% for port in PORT %}
-    {%- if port_names_list.append(port) %}{% endif %}
-{% endfor %}
-{% set port_names = port_names_list | join(',') -%}
-
-
-{
-   "TC_TO_QUEUE_MAP":{
-        "AZURE":{
-            "0":"0",
-            "1":"1",
-            "2":"2",
-            "3":"3",
-            "4":"4",
-            "5":"5",
-            "6":"6",
-            "7":"7"
-        }
-    },
-    "TC_TO_PRIORITY_GROUP_MAP": {
-    "AZURE": {
-        "0": "0",
-        "1": "0",
-        "2": "0",
-        "3": "3",
-        "4": "4",
-        "5": "0",
-        "6": "0",
-        "7": "0"
-    }
-    },
-       "DSCP_TO_TC_MAP": {
-        "AZURE": {
-            "0":"0",
-            "1":"0",
-            "2":"0",
-            "3":"0",
-            "4":"0",
-            "5":"0",
-            "6":"0",
-            "7":"0",
-            "8":"0",
-            "9":"0",
-            "10":"0",
-            "11":"0",
-            "12":"0",
-            "13":"0",
-            "14":"0",
-            "15":"0",
-            "16":"0",
-            "17":"0",
-            "18":"0",
-            "19":"0",
-            "20":"0",
-            "21":"0",
-            "22":"0",
-            "23":"0",
-            "24":"0",
-            "25":"0",
-            "26":"0",
-            "27":"0",
-            "28":"0",
-            "29":"0",
-            "30":"0",
-            "31":"0",
-            "32":"0",
-            "33":"0",
-            "34":"0",
-            "35":"0",
-            "36":"0",
-            "37":"0",
-            "38":"0",
-            "39":"0",
-            "40":"0",
-            "41":"0",
-            "42":"0",
-            "43":"0",
-            "44":"0",
-            "45":"0",
-            "46":"0",
-            "47":"0",
-            "48":"0",
-            "49":"0",
-            "50":"0",
-            "51":"0",
-            "52":"0",
-            "53":"0",
-            "54":"0",
-            "55":"0",
-            "56":"0",
-            "57":"0",
-            "58":"0",
-            "59":"0",
-            "60":"0",
-            "61":"0",
-            "62":"0",
-            "63":"0"
-        }
-    },
-    "PORT_QOS_MAP": {
-       "{{ port_names }}": {
-            "tc_to_pg_map": "[TC_TO_PRIORITY_GROUP_MAP|AZURE]",
-            "tc_to_queue_map": "[TC_TO_QUEUE_MAP|AZURE]",
-            "dscp_to_tc_map": "[DSCP_TO_TC_MAP|AZURE]"
-        }
-    },
-    "SCHEDULER": {
-        "scheduler.7": {
-            "type": "STRICT"
-        }
-    },
-    "QUEUE": {
-        "{{ port_names }}|7": {
-            "scheduler": "[SCHEDULER|scheduler.7]"
-        }
-    }
-}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos_defaults_t1.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos_defaults_t1.j2
deleted file mode 100755
index 4b9748c..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/qos_defaults_t1.j2
+++ /dev/null
@@ -1,114 +0,0 @@
-{% set port_names_list = [] %}
-{% for port in PORT %}
-    {%- if port_names_list.append(port) %}{% endif %}
-{% endfor %}
-{% set port_names = port_names_list | join(',') -%}
-
-
-{
-   "TC_TO_QUEUE_MAP":{
-        "AZURE":{
-            "0":"0",
-            "1":"1",
-            "2":"2",
-            "3":"3",
-            "4":"4",
-            "5":"5",
-            "6":"6",
-            "7":"7"
-        }
-    },
-    "TC_TO_PRIORITY_GROUP_MAP": {
-    "AZURE": {
-        "0": "0",
-        "1": "0",
-        "2": "0",
-        "3": "3",
-        "4": "4",
-        "5": "0",
-        "6": "0",
-        "7": "0"
-    }
-    },
-       "DSCP_TO_TC_MAP": {
-        "AZURE": {
-            "0":"0",
-            "1":"0",
-            "2":"0",
-            "3":"3",
-            "4":"4",
-            "5":"0",
-            "6":"0",
-            "7":"0",
-            "8":"1",
-            "9":"0",
-            "10":"0",
-            "11":"0",
-            "12":"0",
-            "13":"0",
-            "14":"0",
-            "15":"0",
-            "16":"0",
-            "17":"0",
-            "18":"0",
-            "19":"0",
-            "20":"0",
-            "21":"0",
-            "22":"0",
-            "23":"0",
-            "24":"0",
-            "25":"0",
-            "26":"0",
-            "27":"0",
-            "28":"0",
-            "29":"0",
-            "30":"0",
-            "31":"0",
-            "32":"0",
-            "33":"0",
-            "34":"0",
-            "35":"0",
-            "36":"0",
-            "37":"0",
-            "38":"0",
-            "39":"0",
-            "40":"0",
-            "41":"0",
-            "42":"0",
-            "43":"0",
-            "44":"0",
-            "45":"0",
-            "46":"0",
-            "47":"0",
-            "48":"0",
-            "49":"0",
-            "50":"0",
-            "51":"0",
-            "52":"0",
-            "53":"0",
-            "54":"0",
-            "55":"0",
-            "56":"0",
-            "57":"0",
-            "58":"0",
-            "59":"0",
-            "60":"0",
-            "61":"0",
-            "62":"0",
-            "63":"0"
-        }
-    },
-    "PORT_QOS_MAP": {
-       "{{ port_names }}": {
-            "tc_to_pg_map": "[TC_TO_PRIORITY_GROUP_MAP|AZURE]",
-            "tc_to_queue_map": "[TC_TO_QUEUE_MAP|AZURE]",
-            "dscp_to_tc_map": "[DSCP_TO_TC_MAP|AZURE]",
-            "pfc_enable": "3,4"
-        }
-    },
-    "WRED_PROFILE": {
-        "AZURE_LOSSLESS" : {
-            "red_min_threshold":"50000"
-        }
-    }
-}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/sai.profile b/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/sai.profile
deleted file mode 100644
index aba4fc8..0000000
--- a/device/wistron/x86_64-wistron_6512_32r-r0/Wistron_6512_32r/sai.profile
+++ /dev/null
@@ -1 +0,0 @@
-SAI_INIT_CONFIG_FILE=/usr/share/sonic/hwsku/ivm.sai.config.yaml
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/default_sku b/device/wistron/x86_64-wistron_6512_32r-r0/default_sku
index 8882afc..3b19930 100644
--- a/device/wistron/x86_64-wistron_6512_32r-r0/default_sku
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/default_sku
@@ -1 +1 @@
-Wistron_6512_32r t1
+wistron_6512_32r t1
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/installer.conf b/device/wistron/x86_64-wistron_6512_32r-r0/installer.conf
index 925a32f..d5f9419 100644
--- a/device/wistron/x86_64-wistron_6512_32r-r0/installer.conf
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/installer.conf
@@ -1,3 +1,4 @@
 CONSOLE_PORT=0x3f8
 CONSOLE_DEV=0
 CONSOLE_SPEED=115200
+ONIE_PLATFORM_EXTRA_CMDLINE_LINUX="pcie_aspm=off"
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/libplatform.so b/device/wistron/x86_64-wistron_6512_32r-r0/libplatform.so
new file mode 100644
index 0000000000000000000000000000000000000000..1ca41771ff2dd58339f90189c280eb1b1e5e6ffa
GIT binary patch
literal 26640
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
F{~wL=Fn9m}

literal 0
HcmV?d00001

diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/plugins/eeprom.py b/device/wistron/x86_64-wistron_6512_32r-r0/plugins/eeprom.py
index 9ba5e8f..ede2cce 100755
--- a/device/wistron/x86_64-wistron_6512_32r-r0/plugins/eeprom.py
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/plugins/eeprom.py
@@ -3,7 +3,7 @@
 try:
     import os
     from sonic_eeprom import eeprom_tlvinfo
-except ImportError, e:
+except ImportError as e:
     raise ImportError (str(e) + "- required module not found")
 
 def eeprom_check():
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/plugins/sfputil.py b/device/wistron/x86_64-wistron_6512_32r-r0/plugins/sfputil.py
index 3ebdbd7..8dbc6ba 100755
--- a/device/wistron/x86_64-wistron_6512_32r-r0/plugins/sfputil.py
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/plugins/sfputil.py
@@ -17,7 +17,7 @@ class SfpUtil(SfpUtilBase):
     PORT_END = 31
     PORTS_IN_BLOCK = 32
 
-    BASE_OOM_PATH = "/sys/bus/i2c/devices/0-00{0}/"
+    BASE_OOM_PATH = "/sys/bus/i2c/devices/0-00"
     BASE_CPLD1_PATH = "/sys/bus/i2c/devices/0-0006/"
     BASE_CPLD2_PATH = "/sys/bus/i2c/devices/0-0007/"
 
@@ -25,40 +25,40 @@ class SfpUtil(SfpUtilBase):
     _port_to_lp_mode = {}
 
     _port_to_eeprom_mapping = {}
-    _port_to_i2c_mapping = {
-           0: [1, 10],
-           1: [2, 11],
-           2: [3, 12],
-           3: [4, 13],
-           4: [5, 14],
-           5: [6, 15],
-           6: [7, 16],
-           7: [8, 17],
-           8: [9, 18],
-           9: [10, 19],
-           10: [11, 20],
-           11: [12, 21],
-           12: [13, 22],
-           13: [14, 23],
-           14: [15, 24],
-           15: [16, 25],
-           16: [17, 26],
-           17: [18, 27],
-           18: [19, 28],
-           19: [20, 29],
-           20: [21, 30],
-           21: [22, 31],
-           22: [23, 32],
-           23: [24, 33],
-           24: [25, 34],
-           25: [26, 35],
-           26: [27, 36],
-           27: [28, 37],
-           28: [29, 38],
-           29: [30, 39],
-           30: [31, 40],
-           31: [32, 41],
-           }
+    port_to_i2c_mapping = {
+        0: '10',
+        1: '11',
+        2: '12',
+        3: '13',
+        4: '14',
+        5: '15',
+        6: '16',
+        7: '17',
+        8: '18',
+        9: '19',
+        10: '1a',
+        11: '1b',
+        12: '1c',
+        13: '1d',
+        14: '1e',
+        15: '1f',
+        16: '20',
+        17: '21',
+        18: '22',
+        19: '23',
+        20: '24',
+        21: '25',
+        22: '26',
+        23: '27',
+        24: '28',
+        25: '29',
+        26: '2a',
+        27: '2b',
+        28: '2c',
+        29: '2d',
+        30: '2e',
+        31: '2f',
+    }
 
     @property
     def port_start(self):
@@ -88,19 +88,18 @@ class SfpUtil(SfpUtilBase):
         return [port_idx]
 
     def __init__(self):
-        eeprom_path = self.BASE_OOM_PATH + "eeprom1"
 
         for x in range(0, self.port_end+1):
-            self.port_to_eeprom_mapping[x] = eeprom_path.format(self._port_to_i2c_mapping[x][1])
+            self.port_to_eeprom_mapping[x] = self.BASE_OOM_PATH + self.port_to_i2c_mapping[x] + "/eeprom1"
 
-        self._transceiver_presence = self._get_sfp_presence()
+        self._transceiver_presence = {}
         SfpUtilBase.__init__(self)
 
     def get_presence(self, port_num):
         # Check for invalid port_num
         if port_num < self.port_start or port_num > self.port_end:
             return False
-        if port_num < 16 :
+        if port_num < 16:
             present_path = self.BASE_CPLD1_PATH + "port" + str(port_num+1) + "_present"
         else:
             present_path = self.BASE_CPLD2_PATH + "port" + str(port_num+1) + "_present"
@@ -111,7 +110,7 @@ class SfpUtil(SfpUtilBase):
             content = val_file.readline().rstrip()
             val_file.close()
         except IOError as e:
-            print "Error: unable to access file: %s" % str(e)
+            print("Error: unable to access file: %s" % str(e))
             return False
 
         if content == "1":
@@ -120,10 +119,46 @@ class SfpUtil(SfpUtilBase):
         return False
 
     def get_low_power_mode(self, port_num):
-        raise NotImplementedError
+        # Check for invalid port_num
+        if port_num < self.port_start or port_num > self.port_end:
+            return False
+        if port_num < 16:
+            lpmode_path = self.BASE_CPLD1_PATH + "port" + str(port_num+1) + "_lpmode"
+        else:
+            lpmode_path = self.BASE_CPLD2_PATH + "port" + str(port_num+1) + "_lpmode"
+        self.__port_to_is_lpmode = lpmode_path
+
+        try:
+            val_file = open(self.__port_to_is_lpmode)
+            content = val_file.readline().rstrip()
+            val_file.close()
+        except IOError as e:
+            print("Error: unable to access file: %s" % str(e))
+            return False
+
+        if content == "1":
+            return True
+
+        return False
 
     def set_low_power_mode(self, port_num, lpmode):
-        raise NotImplementedError
+        # Check for invalid port_num
+        if port_num < self.port_start or port_num > self.port_end:
+            return False
+        if port_num < 16:
+            lpmode_path = self.BASE_CPLD1_PATH + "port" + str(port_num+1) + "_lpmode"
+        else:
+            lpmode_path = self.BASE_CPLD2_PATH + "port" + str(port_num+1) + "_lpmode"
+        self.__port_to_is_lpmode = lpmode_path
+
+        try:
+            val_file = open(self.__port_to_is_lpmode, 'w')
+            val_file.write('1' if lpmode else '0')
+            val_file.close()
+            return True
+        except IOError as e:
+            print("Error: unable to open file: %s" % str(e))
+            return False
 
     def reset(self, port_num):
         raise NotImplementedError
@@ -145,13 +180,13 @@ class SfpUtil(SfpUtilBase):
         elif timeout > 0:
             timeout = timeout / float(1000) # Convert to secs
         else:
-            print "get_transceiver_change_event:Invalid timeout value", timeout
+            print("get_transceiver_change_event:Invalid timeout value", timeout)
             return False, {}
 
         end_time = start_time + timeout
         if start_time > end_time:
-            print 'get_transceiver_change_event:' \
-                       'time wrap / invalid timeout value', timeout
+            print('get_transceiver_change_event:' \
+                       'time wrap / invalid timeout value', timeout)
 
             return False, {} # Time wrap or possibly incorrect timeout
 
@@ -160,12 +195,11 @@ class SfpUtil(SfpUtilBase):
 
             cur_presence = self._get_sfp_presence()
             for port in range(0, self.port_end+1):
-                if cur_presence[port] == 1:
-                    port_dict[port]='1'
-                else:
-                    port_dict[port]='0'
-
                 if cur_presence[port] != self._transceiver_presence[port]:
+                    if cur_presence[port] == 1:
+                        port_dict[port]='1'
+                    else:
+                        port_dict[port]='0'
                     change_status = True
 
             self._transceiver_presence = cur_presence
@@ -182,5 +216,5 @@ class SfpUtil(SfpUtilBase):
                     if timeout > 0:
                         time.sleep(timeout)
                     return True, {}
-        print "get_evt_change_event: Should not reach here."
+        print("get_evt_change_event: Should not reach here.")
         return False, {}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/__init__.py b/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/__init__.py
index e69de29..cc56845 100755
--- a/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/__init__.py
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/__init__.py
@@ -0,0 +1,2 @@
+__all__ = ['chassis', 'eeprom', 'platform', 'psu', 'sfp', 'thermal', 'fan', 'component', 'watchdog']
+from . import platform
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/chassis.py b/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/chassis.py
index 9f0fc69..95c31bb 100755
--- a/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/chassis.py
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/chassis.py
@@ -10,6 +10,7 @@ try:
     import sys
     import os
     import time
+    import subprocess
     from sonic_platform_base.chassis_base import ChassisBase
     from sonic_platform.fan import Fan
     from sonic_platform.psu import Psu
@@ -30,7 +31,8 @@ REBOOT_CAUSE_FILE = "reboot-cause.txt"
 PREV_REBOOT_CAUSE_FILE = "previous-reboot-cause.txt"
 COMPONENT_NAME_LIST = ["BIOS"]
 HOST_CHK_CMD = "docker > /dev/null 2>&1"
-
+GET_HWSKU_CMD = "sonic-cfggen -d -v DEVICE_METADATA.localhost.hwsku"
+GET_PLATFORM_CMD = "sonic-cfggen -d -v DEVICE_METADATA.localhost.platform"
 
 class Chassis(ChassisBase):
     """Platform-specific Chassis class"""
@@ -38,6 +40,12 @@ class Chassis(ChassisBase):
     def __init__(self):
         super(Chassis, self).__init__()
 
+        # Initialize SKU name and Platform name
+        self.sku_name = self._get_sku_name()
+        self.platform_name = self._get_platform_name()
+        self.name = self.sku_name
+
+
         for fan_index in range(0, NUM_FAN):
             fan = Fan(fan_index)
             self._fan_list.append(fan)
@@ -51,11 +59,11 @@ class Chassis(ChassisBase):
             self._thermal_list.append(thermal)
 
         for index in range(0, NUM_SFP):
-            sfp_module = Sfp(index, 'QSFP-DD')
+            sfp_module = Sfp(index, 'QSFP_DD')
             self._sfp_list.append(sfp_module)
         self._component_name_list = COMPONENT_NAME_LIST
         self._eeprom = Tlv()
-        self._transceiver_presence = self._get_sfp_presence()
+        self._transceiver_presence = {}
 
     def __is_host(self):
         return os.system(HOST_CHK_CMD) == 0
@@ -152,6 +160,24 @@ class Chassis(ChassisBase):
 
         return (reboot_cause, description)
 
+    def _get_sku_name(self):
+        p = subprocess.Popen(GET_HWSKU_CMD, shell=True, stdout=subprocess.PIPE)
+        out, err = p.communicate()
+        return out.decode().rstrip('\n')
+
+    def _get_platform_name(self):
+        p = subprocess.Popen(GET_PLATFORM_CMD, shell=True, stdout=subprocess.PIPE)
+        out, err = p.communicate()
+        return out.decode().rstrip('\n')
+
+    def get_name(self):
+        """
+        Retrieves the name of the device
+        Returns:
+            string: The name of the device
+        """
+        return self.name
+
     def get_sfp(self, index):
         sfp = None
         try:
@@ -192,13 +218,12 @@ class Chassis(ChassisBase):
             time.sleep(timer)
             cur_presence = self._get_sfp_presence()
             for port in range(0, NUM_SFP):
-                if cur_presence[port] == 1:
-                    port_dict[port] = '1'
-                else:
-                    port_dict[port] = '0'
-
                 if cur_presence[port] != self._transceiver_presence[port]:
                     change_event = True
+                    if cur_presence[port] == 1:
+                        port_dict[port] = '1'
+                    else:
+                        port_dict[port] = '0'
 
             self._transceiver_presence = cur_presence
             if change_event == True:
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/eeprom.py b/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/eeprom.py
index c694562..d55f102 100755
--- a/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/eeprom.py
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/eeprom.py
@@ -11,7 +11,10 @@ try:
     import os
     import sys
     import re
-    from cStringIO import StringIO
+    if sys.version_info[0] >= 3:
+        from io import StringIO
+    else:
+        from cStringIO import StringIO
     from sonic_platform_base.sonic_eeprom import eeprom_tlvinfo
 except ImportError as e:
     raise ImportError(str(e) + "- required module not found")
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/fan.py b/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/fan.py
index 6c2ec43..aec7e23 100755
--- a/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/fan.py
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/fan.py
@@ -14,7 +14,7 @@ try:
 except ImportError as e:
     raise ImportError(str(e) + "- required module not found")
 
-FAN_PATH = "/sys/bus/i2c/devices/0-0023/"
+FAN_PATH = "/sys/bus/i2c/devices/0-0044/"
 FANTRAY_NAME_LIST = ["FANTRAY-1", "FANTRAY-2",
                      "FANTRAY-3", "FANTRAY-4",
                      "FANTRAY-5", "FANTRAY-6", "FANTRAY-7"]
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/sfp.py b/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/sfp.py
index 163274b..c526e94 100755
--- a/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/sfp.py
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/sonic_platform/sfp.py
@@ -204,38 +204,38 @@ class Sfp(SfpBase):
     PORT_END = 31
 
     port_to_i2c_mapping = {
-        0: 10,
-        1: 11,
-        2: 12,
-        3: 13,
-        4: 14,
-        5: 15,
-        6: 16,
-        7: 17,
-        8: 18,
-        9: 19,
-        10: 20,
-        11: 21,
-        12: 22,
-        13: 23,
-        14: 24,
-        15: 25,
-        16: 26,
-        17: 27,
-        18: 28,
-        19: 29,
-        20: 30,
-        21: 31,
-        22: 32,
-        23: 33,
-        24: 34,
-        25: 35,
-        26: 36,
-        27: 37,
-        28: 38,
-        29: 39,
-        30: 40,
-        31: 41,
+        0: '10',
+        1: '11',
+        2: '12',
+        3: '13',
+        4: '14',
+        5: '15',
+        6: '16',
+        7: '17',
+        8: '18',
+        9: '19',
+        10: '1a',
+        11: '1b',
+        12: '1c',
+        13: '1d',
+        14: '1e',
+        15: '1f',
+        16: '20',
+        17: '21',
+        18: '22',
+        19: '23',
+        20: '24',
+        21: '25',
+        22: '26',
+        23: '27',
+        24: '28',
+        25: '29',
+        26: '2a',
+        27: '2b',
+        28: '2c',
+        29: '2d',
+        30: '2e',
+        31: '2f',
     }
 
     _sfp_port = range(32, PORT_END + 1)
@@ -250,17 +250,12 @@ class Sfp(SfpBase):
         self.port_num = self.index + 1
 
         # Init eeprom path
-        eeprom1_path = '/sys/bus/i2c/devices/0-00{}/eeprom1'
-        eeprom2_path = '/sys/bus/i2c/devices/0-00{}/eeprom2'
-        name_path = '/sys/bus/i2c/devices/0-00{}/port_name'
+        eeprom_path_prefix = '/sys/bus/i2c/devices/0-00'
         self.port_to_eeprom1_mapping = {}
         self.port_to_eeprom2_mapping = {}
-        self.port_to_name_mapping = {}
         for x in range(self.PORT_START, self.PORT_END + 1):
-            p_num = x - 1 if self.PORT_START == 1 else x
-            self.port_to_eeprom1_mapping[p_num] = eeprom1_path.format(self.port_to_i2c_mapping[p_num])
-            self.port_to_eeprom2_mapping[p_num] = eeprom2_path.format(self.port_to_i2c_mapping[p_num])
-            self.port_to_name_mapping[p_num] = name_path.format(self.port_to_i2c_mapping[p_num])
+            self.port_to_eeprom1_mapping[x] = eeprom_path_prefix + self.port_to_i2c_mapping[x] + '/eeprom1'
+            self.port_to_eeprom2_mapping[x] = eeprom_path_prefix + self.port_to_i2c_mapping[x] + '/eeprom2'
 
         self._detect_sfp_type(sfp_type)
         self._dom_capability_detect()
@@ -305,10 +300,10 @@ class Sfp(SfpBase):
             sysfsfile_eeprom = open(sysfs_sfp_i2c_client_eeprom_path, mode="rb", buffering=0)
             sysfsfile_eeprom.seek(offset)
             raw = sysfsfile_eeprom.read(num_bytes)
-	    if sys.version_info[0] >= 3:
+            if sys.version_info[0] >= 3:
                 for n in range(0, num_bytes):
                     eeprom_raw[n] = hex(raw[n])[2:].zfill(2)
- 	    else:
+            else:
                 for n in range(0, num_bytes):
                     eeprom_raw[n] = hex(ord(raw[n]))[2:].zfill(2)
 
@@ -412,7 +407,7 @@ class Sfp(SfpBase):
             if qsfp_dom_capability_raw is not None:
                 self.dom_temp_supported = True
                 self.dom_volt_supported = True
-                dom_capability = sfpi_obj.parse_qsfp_dom_capability(qsfp_dom_capability_raw, 0)
+                dom_capability = sfpi_obj.parse_dom_capability(qsfp_dom_capability_raw, 0)
                 if dom_capability['data']['Flat_MEM']['value'] == 'Off':
                     self.dom_supported = False
                     self.dom_rx_power_supported = False
@@ -1420,8 +1415,8 @@ class Sfp(SfpBase):
             Returns:
             string: The name of the device
         """
-        with open(self.port_to_name_mapping[self.index], 'r') as sfp_name:
-            name=sfp_name.read()
+
+        name='port'+str(self.index)
         return name
 
     def get_model(self):
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/6512-32_32x400G.config.yaml b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/6512-32_32x400G.config.yaml
new file mode 100644
index 0000000..87da647
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/6512-32_32x400G.config.yaml
@@ -0,0 +1,414 @@
+ifcs:
+  options:
+    log_level: "warn"
+nodes:
+- node_id: "0"
+  options:
+    sku: "configs/sku/innovium.77700_A"
+    netdev: {}
+    mac_clk: "1340"
+    skip_pll_check: "false"
+    sys_clk: "1720"
+    mbist_on_init: "true"
+    ifc_clk: "1200"
+    txring:
+    - txring_id: "0"
+      desc_count: "1024"
+      prio: "1"
+    - txring_id: "1"
+      desc_count: "1024"
+      prio: "1"
+    - txring_id: "2"
+      desc_count: "1024"
+      prio: "1"
+    - txring_id: "3"
+      desc_count: "1024"
+      prio: "1"
+    rxring:
+    - rxring_id: "0"
+      desc_count: "1024"
+      prio: "1"
+      queues: "0, 4, 8, 12, 16, 20, 24, 28, 32, 36, 40, 44"
+    - rxring_id: "1"
+      desc_count: "1024"
+      prio: "1"
+      queues: "1, 5, 9, 13, 17, 21, 25, 29, 33, 37, 41, 45"
+    - rxring_id: "2"
+      desc_count: "1024"
+      prio: "1"
+      queues: "2, 6, 10, 14, 18, 22, 26, 30, 34, 38, 42, 46"
+    - rxring_id: "3"
+      desc_count: "1024"
+      prio: "1"
+      queues: "3, 7, 11, 15, 19, 23, 27, 31, 35, 39, 43, 47"
+  devports:
+  - id: "0"
+    sysport: "1000"
+    type: "cpu"
+  - id: "1"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "11"
+    speed: "400G"
+    sysport: "89"
+    type: "eth"
+  - id: "2"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "10"
+    speed: "400G"
+    sysport: "81"
+    type: "eth"
+  - id: "3"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "9"
+    speed: "400G"
+    sysport: "73"
+    type: "eth"
+  - id: "4"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "8"
+    speed: "400G"
+    sysport: "65"
+    type: "eth"
+  - id: "5"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "7"
+    speed: "400G"
+    sysport: "57"
+    type: "eth"
+  - id: "6"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "6"
+    speed: "400G"
+    sysport: "49"
+    type: "eth"
+  - id: "7"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "5"
+    speed: "400G"
+    sysport: "41"
+    type: "eth"
+  - id: "8"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "4"
+    speed: "400G"
+    sysport: "33"
+    type: "eth"
+  - id: "9"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "19"
+    speed: "400G"
+    sysport: "153"
+    type: "eth"
+  - id: "10"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "18"
+    speed: "400G"
+    sysport: "145"
+    type: "eth"
+  - id: "11"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "17"
+    speed: "400G"
+    sysport: "137"
+    type: "eth"
+  - id: "12"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "16"
+    speed: "400G"
+    sysport: "129"
+    type: "eth"
+  - id: "13"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "15"
+    speed: "400G"
+    sysport: "121"
+    type: "eth"
+  - id: "14"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "14"
+    speed: "400G"
+    sysport: "113"
+    type: "eth"
+  - id: "15"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "13"
+    speed: "400G"
+    sysport: "105"
+    type: "eth"
+  - id: "16"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "12"
+    speed: "400G"
+    sysport: "97"
+    type: "eth"
+  - id: "17"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "26"
+    speed: "400G"
+    sysport: "209"
+    type: "eth"
+  - id: "18"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "27"
+    speed: "400G"
+    sysport: "217"
+    type: "eth"
+  - id: "19"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "24"
+    speed: "400G"
+    sysport: "193"
+    type: "eth"
+  - id: "20"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "25"
+    speed: "400G"
+    sysport: "201"
+    type: "eth"
+  - id: "21"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "22"
+    speed: "400G"
+    sysport: "177"
+    type: "eth"
+  - id: "22"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "23"
+    speed: "400G"
+    sysport: "185"
+    type: "eth"
+  - id: "23"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "20"
+    speed: "400G"
+    sysport: "161"
+    type: "eth"
+  - id: "24"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "21"
+    speed: "400G"
+    sysport: "169"
+    type: "eth"
+  - id: "25"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "2"
+    speed: "400G"
+    sysport: "17"
+    type: "eth"
+  - id: "26"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "3"
+    speed: "400G"
+    sysport: "25"
+    type: "eth"
+  - id: "27"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "0"
+    speed: "400G"
+    sysport: "1"
+    type: "eth"
+  - id: "28"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "1"
+    speed: "400G"
+    sysport: "9"
+    type: "eth"
+  - id: "29"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "30"
+    speed: "400G"
+    sysport: "241"
+    type: "eth"
+  - id: "30"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "31"
+    speed: "400G"
+    sysport: "249"
+    type: "eth"
+  - id: "31"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "28"
+    speed: "400G"
+    sysport: "225"
+    type: "eth"
+  - id: "32"
+    fec: "KPFEC"
+    lanes: "0:8"
+    serdes_group: "29"
+    speed: "400G"
+    sysport: "233"
+    type: "eth"
+  - id: "257"
+    fec: "NONE"
+    lanes: "0:1"
+    serdes_group: "32"
+    speed: "10G"
+    sysport: "257"
+    type: "mgmt 0"
+  - id: "258"
+    fec: "NONE"
+    lanes: "1:1"
+    serdes_group: "32"
+    speed: "10G"
+    sysport: "258"
+    type: "mgmt 1"
+  isg:
+  - id: "11"
+    lane_swap: "27163504"
+    rx_polarity: "01010000"
+    tx_polarity: "01100000"
+  - id: "10"
+    lane_swap: "51604372"
+    rx_polarity: "11001000"
+    tx_polarity: "11110000"
+  - id: "9"
+    lane_swap: "17032546"
+    rx_polarity: "10001000"
+    tx_polarity: "00000100"
+  - id: "8"
+    lane_swap: "70435162"
+    rx_polarity: "11000100"
+    tx_polarity: "00100101"
+  - id: "7"
+    lane_swap: "27053416"
+    rx_polarity: "00011001"
+    tx_polarity: "10001000"
+  - id: "6"
+    lane_swap: "70635142"
+    rx_polarity: "10001000"
+    tx_polarity: "01100001"
+  - id: "5"
+    lane_swap: "27053416"
+    rx_polarity: "00001001"
+    tx_polarity: "00001000"
+  - id: "4"
+    lane_swap: "62405173"
+    rx_polarity: "11000101"
+    tx_polarity: "10110000"
+  - id: "19"
+    lane_swap: "06152347"
+    rx_polarity: "11010110"
+    tx_polarity: "10001110"
+  - id: "18"
+    lane_swap: "73614052"
+    rx_polarity: "11001100"
+    tx_polarity: "11100001"
+  - id: "17"
+    lane_swap: "17053426"
+    rx_polarity: "10001001"
+    tx_polarity: "00001000"
+  - id: "16"
+    lane_swap: "54216073"
+    rx_polarity: "10000011"
+    tx_polarity: "01001010"
+  - id: "15"
+    lane_swap: "36072514"
+    rx_polarity: "10100000"
+    tx_polarity: "10100001"
+  - id: "14"
+    lane_swap: "50763241"
+    rx_polarity: "00010001"
+    tx_polarity: "01110001"
+  - id: "13"
+    lane_swap: "26071435"
+    rx_polarity: "00000011"
+    tx_polarity: "00101001"
+  - id: "12"
+    lane_swap: "43510627"
+    rx_polarity: "11100100"
+    tx_polarity: "00011101"
+  - id: "26"
+    lane_swap: "31427506"
+    rx_polarity: "10011000"
+    tx_polarity: "11110001"
+  - id: "27"
+    lane_swap: "21735406"
+    rx_polarity: "01011110"
+    tx_polarity: "10011100"
+  - id: "24"
+    lane_swap: "07162435"
+    rx_polarity: "10010000"
+    tx_polarity: "10001010"
+  - id: "25"
+    lane_swap: "64501372"
+    rx_polarity: "11010001"
+    tx_polarity: "10001010"
+  - id: "22"
+    lane_swap: "35071624"
+    rx_polarity: "00100011"
+    tx_polarity: "11001011"
+  - id: "23"
+    lane_swap: "64705132"
+    rx_polarity: "11010100"
+    tx_polarity: "11101000"
+  - id: "20"
+    lane_swap: "16270453"
+    rx_polarity: "00101100"
+    tx_polarity: "00001001"
+  - id: "21"
+    lane_swap: "71356204"
+    rx_polarity: "01100010"
+    tx_polarity: "00001011"
+  - id: "2"
+    lane_swap: "37260145"
+    rx_polarity: "10011010"
+    tx_polarity: "11000000"
+  - id: "3"
+    lane_swap: "47512630"
+    rx_polarity: "10010100"
+    tx_polarity: "10101101"
+  - id: "0"
+    lane_swap: "05462713"
+    rx_polarity: "01000000"
+    tx_polarity: "10010010"
+  - id: "1"
+    lane_swap: "71605432"
+    rx_polarity: "00000000"
+    tx_polarity: "11000101"
+  - id: "30"
+    lane_swap: "37251604"
+    rx_polarity: "11000010"
+    tx_polarity: "11001000"
+  - id: "31"
+    lane_swap: "42736051"
+    rx_polarity: "10000110"
+    tx_polarity: "01000010"
+  - id: "28"
+    lane_swap: "01245736"
+    rx_polarity: "10110101"
+    tx_polarity: "10000001"
+  - id: "29"
+    lane_swap: "52706134"
+    rx_polarity: "00010010"
+    tx_polarity: "10101010"
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers.json.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers.json.j2
new file mode 100644
index 0000000..cb42620
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers.json.j2
@@ -0,0 +1,161 @@
+{# Default values which will be used if no actual configura available #}
+{% set default_cable = '40m' %}
+
+{# Port configuration to cable length look-up table #}
+{# Each record describes mapping of DUT (DUT port) role and neighbor role to cable length #}
+{# Roles described in the minigraph #}
+{% set ports2cable = {
+        'torrouter_server'       : '5m',
+        'leafrouter_torrouter'   : '40m',
+        'spinerouter_leafrouter' : '300m'
+        }
+%}
+
+{%- macro cable_length(port_name) %}
+    {%- set cable_len = [] %}
+    {%- for local_port in DEVICE_NEIGHBOR %}
+        {%- if local_port == port_name %}
+            {%- if DEVICE_NEIGHBOR_METADATA is defined and DEVICE_NEIGHBOR_METADATA[DEVICE_NEIGHBOR[local_port].name] %}
+                {%- set neighbor = DEVICE_NEIGHBOR_METADATA[DEVICE_NEIGHBOR[local_port].name] %}
+                {%- set neighbor_role = neighbor.type %}
+                {%- set roles1 = switch_role + '_' + neighbor_role %}
+                {%- set roles2 = neighbor_role + '_' + switch_role %}
+                {%- set roles1 = roles1 | lower %}
+                {%- set roles2 = roles2 | lower %}
+                {%- if roles1 in ports2cable %}
+                    {%- if cable_len.append(ports2cable[roles1]) %}{% endif %}
+                {%- elif roles2 in ports2cable %}
+                    {%- if cable_len.append(ports2cable[roles2]) %}{% endif %}
+                {%- endif %}
+            {%- endif %}
+        {%- endif %}
+    {%- endfor %}
+    {%- if cable_len -%}
+        {{ cable_len.0 }}
+    {%- else %}
+        {%- if switch_role.lower() == 'torrouter' %}
+            {%- for local_port in VLAN_MEMBER %}
+                {%- if local_port[1] == port_name %}
+                    {%- set roles3 = switch_role + '_' + 'server' %}
+                    {%- set roles3 = roles3 | lower %}
+                    {%- if roles3 in ports2cable %}
+                        {%- if cable_len.append(ports2cable[roles3]) %}{% endif %}
+                    {%- endif %}
+                {%- endif %}
+            {%- endfor %}
+            {%- if cable_len -%}
+                {{ cable_len.0 }}
+            {%- else -%}
+                {{ default_cable }}
+            {%- endif %}
+        {%- else -%}
+            {{ default_cable }}
+        {%- endif %}
+    {%- endif %}
+{%- endmacro %}
+
+{%- if DEVICE_METADATA is defined %}
+{%- set switch_role = DEVICE_METADATA['localhost']['type'] %}
+{%- endif -%}
+
+{% set port_names_list = [] %}
+{% for port in PORT %}
+    {%- if port_names_list.append(port) %}{% endif %}
+{% endfor %}
+{% set port_names = port_names_list | join(',') -%}
+
+{
+    "CABLE_LENGTH": {
+        "AZURE": {
+    {% for port in PORT %}
+        {% set cable = cable_length(port) -%}
+        "{{ port }}": "{{ cable }}"{%- if not loop.last -%},{% endif %}
+
+    {% endfor %}
+    }
+    },
+    "BUFFER_POOL": {
+        "ingress_lossless_pool": {
+            "size": "47218432",
+            "type": "ingress",
+            "mode": "dynamic",
+            "xoff": "17708800"
+        },
+        "lossy_pool": {
+            "size": "18874368",
+            "type": "egress",
+            "mode": "dynamic",
+            "xoff": "0"
+        },
+        "egress_lossless_pool": {
+            "size": "66092800",
+            "type": "egress"
+        }
+    },
+    "BUFFER_PROFILE": {
+        "ingress_lossless_profile": {
+            "pool":"[BUFFER_POOL|ingress_lossless_pool]",
+            "xoff":"38816",
+            "size":"1518",
+            "dynamic_th":"1",
+            "xon_offset":"9408"
+        },
+        "egress_lossless_profile": {
+            "pool":"[BUFFER_POOL|ingress_lossless_pool]",
+            "size":"0",
+            "static_th":"9497600"
+        },
+        "ingress_lossy_profile": {
+            "pool":"[BUFFER_POOL|lossy_pool]",
+            "size":"0",
+            "static_th":"9497600"
+        },
+        "egress_lossy_profile": {
+            "pool":"[BUFFER_POOL|lossy_pool]",
+            "size":"1518",
+            "dynamic_th":"2"
+        }
+    },
+    "BUFFER_PG": {
+{% for port in port_names_list %}
+                "{{ port }}|3-4": {
+                     "profile" : "[BUFFER_PROFILE|ingress_lossless_profile]"
+                },
+{% endfor %}
+{% for port in port_names_list %}
+                "{{ port }}|0": {
+                    "profile" : "[BUFFER_PROFILE|ingress_lossy_profile]"
+                },
+{% endfor %}
+{% for port in port_names_list %}
+                "{{ port }}|1-2": {
+                    "profile" : "[BUFFER_PROFILE|ingress_lossy_profile]"
+                },
+{% endfor %}
+{% for port in port_names_list %}
+                "{{ port }}|5-7": {
+                    "profile" : "[BUFFER_PROFILE|ingress_lossy_profile]"
+                }{% if not loop.last %},{% endif %}
+
+{% endfor %}
+    },
+
+    "BUFFER_QUEUE": {
+{% for port in port_names_list %}
+        "{{ port }}|3-4": {
+             "profile" : "[BUFFER_PROFILE|egress_lossless_profile]"
+        },
+{% endfor %}
+{% for port in port_names_list %}
+        "{{ port }}|0-2": {
+            "profile" : "[BUFFER_PROFILE|egress_lossy_profile]"
+        },
+{% endfor %}
+{% for port in port_names_list %}
+        "{{ port }}|5-7": {
+            "profile" : "[BUFFER_PROFILE|egress_lossy_profile]"
+        }{% if not loop.last %},{% endif %}
+
+{% endfor %}
+    }
+}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers_defaults_def_lossy.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers_defaults_def_lossy.j2
new file mode 100644
index 0000000..3b1191a
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers_defaults_def_lossy.j2
@@ -0,0 +1,42 @@
+{% set port_names_list = [] %}
+{% for port in PORT %}
+    {%- if port_names_list.append(port) %}{% endif %}
+{% endfor %}
+{% set port_names = port_names_list | join(',') -%}
+
+{
+    "BUFFER_POOL": {
+        "lossy_pool": {
+            "size": "56985600",
+            "type": "egress",
+            "mode": "dynamic",
+            "xoff": "0"
+        }
+    },
+    "BUFFER_PROFILE": {
+        "ingress_lossy_profile": {
+            "pool":"[BUFFER_POOL|lossy_pool]",
+            "size":"0",
+            "static_th":"9497600"
+        },
+        "egress_lossy_profile": {
+            "pool":"[BUFFER_POOL|lossy_pool]",
+            "size":"1518",
+            "dynamic_th":"2"
+        }
+    },
+    "BUFFER_PG": {
+{% for port in port_names_list %}
+        "{{ port }}|0-7": {
+            "profile" : "[BUFFER_PROFILE|ingress_lossy_profile]"
+        }{% if not loop.last %},{% endif %}
+{% endfor %}
+    },
+    "BUFFER_QUEUE": {
+{% for port in port_names_list %}
+        "{{ port }}|0-7": {
+            "profile" : "[BUFFER_PROFILE|egress_lossy_profile]"
+        }{% if not loop.last %},{% endif %}
+{% endfor %}
+    }
+}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers_defaults_t1.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers_defaults_t1.j2
new file mode 100644
index 0000000..cb42620
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/buffers_defaults_t1.j2
@@ -0,0 +1,161 @@
+{# Default values which will be used if no actual configura available #}
+{% set default_cable = '40m' %}
+
+{# Port configuration to cable length look-up table #}
+{# Each record describes mapping of DUT (DUT port) role and neighbor role to cable length #}
+{# Roles described in the minigraph #}
+{% set ports2cable = {
+        'torrouter_server'       : '5m',
+        'leafrouter_torrouter'   : '40m',
+        'spinerouter_leafrouter' : '300m'
+        }
+%}
+
+{%- macro cable_length(port_name) %}
+    {%- set cable_len = [] %}
+    {%- for local_port in DEVICE_NEIGHBOR %}
+        {%- if local_port == port_name %}
+            {%- if DEVICE_NEIGHBOR_METADATA is defined and DEVICE_NEIGHBOR_METADATA[DEVICE_NEIGHBOR[local_port].name] %}
+                {%- set neighbor = DEVICE_NEIGHBOR_METADATA[DEVICE_NEIGHBOR[local_port].name] %}
+                {%- set neighbor_role = neighbor.type %}
+                {%- set roles1 = switch_role + '_' + neighbor_role %}
+                {%- set roles2 = neighbor_role + '_' + switch_role %}
+                {%- set roles1 = roles1 | lower %}
+                {%- set roles2 = roles2 | lower %}
+                {%- if roles1 in ports2cable %}
+                    {%- if cable_len.append(ports2cable[roles1]) %}{% endif %}
+                {%- elif roles2 in ports2cable %}
+                    {%- if cable_len.append(ports2cable[roles2]) %}{% endif %}
+                {%- endif %}
+            {%- endif %}
+        {%- endif %}
+    {%- endfor %}
+    {%- if cable_len -%}
+        {{ cable_len.0 }}
+    {%- else %}
+        {%- if switch_role.lower() == 'torrouter' %}
+            {%- for local_port in VLAN_MEMBER %}
+                {%- if local_port[1] == port_name %}
+                    {%- set roles3 = switch_role + '_' + 'server' %}
+                    {%- set roles3 = roles3 | lower %}
+                    {%- if roles3 in ports2cable %}
+                        {%- if cable_len.append(ports2cable[roles3]) %}{% endif %}
+                    {%- endif %}
+                {%- endif %}
+            {%- endfor %}
+            {%- if cable_len -%}
+                {{ cable_len.0 }}
+            {%- else -%}
+                {{ default_cable }}
+            {%- endif %}
+        {%- else -%}
+            {{ default_cable }}
+        {%- endif %}
+    {%- endif %}
+{%- endmacro %}
+
+{%- if DEVICE_METADATA is defined %}
+{%- set switch_role = DEVICE_METADATA['localhost']['type'] %}
+{%- endif -%}
+
+{% set port_names_list = [] %}
+{% for port in PORT %}
+    {%- if port_names_list.append(port) %}{% endif %}
+{% endfor %}
+{% set port_names = port_names_list | join(',') -%}
+
+{
+    "CABLE_LENGTH": {
+        "AZURE": {
+    {% for port in PORT %}
+        {% set cable = cable_length(port) -%}
+        "{{ port }}": "{{ cable }}"{%- if not loop.last -%},{% endif %}
+
+    {% endfor %}
+    }
+    },
+    "BUFFER_POOL": {
+        "ingress_lossless_pool": {
+            "size": "47218432",
+            "type": "ingress",
+            "mode": "dynamic",
+            "xoff": "17708800"
+        },
+        "lossy_pool": {
+            "size": "18874368",
+            "type": "egress",
+            "mode": "dynamic",
+            "xoff": "0"
+        },
+        "egress_lossless_pool": {
+            "size": "66092800",
+            "type": "egress"
+        }
+    },
+    "BUFFER_PROFILE": {
+        "ingress_lossless_profile": {
+            "pool":"[BUFFER_POOL|ingress_lossless_pool]",
+            "xoff":"38816",
+            "size":"1518",
+            "dynamic_th":"1",
+            "xon_offset":"9408"
+        },
+        "egress_lossless_profile": {
+            "pool":"[BUFFER_POOL|ingress_lossless_pool]",
+            "size":"0",
+            "static_th":"9497600"
+        },
+        "ingress_lossy_profile": {
+            "pool":"[BUFFER_POOL|lossy_pool]",
+            "size":"0",
+            "static_th":"9497600"
+        },
+        "egress_lossy_profile": {
+            "pool":"[BUFFER_POOL|lossy_pool]",
+            "size":"1518",
+            "dynamic_th":"2"
+        }
+    },
+    "BUFFER_PG": {
+{% for port in port_names_list %}
+                "{{ port }}|3-4": {
+                     "profile" : "[BUFFER_PROFILE|ingress_lossless_profile]"
+                },
+{% endfor %}
+{% for port in port_names_list %}
+                "{{ port }}|0": {
+                    "profile" : "[BUFFER_PROFILE|ingress_lossy_profile]"
+                },
+{% endfor %}
+{% for port in port_names_list %}
+                "{{ port }}|1-2": {
+                    "profile" : "[BUFFER_PROFILE|ingress_lossy_profile]"
+                },
+{% endfor %}
+{% for port in port_names_list %}
+                "{{ port }}|5-7": {
+                    "profile" : "[BUFFER_PROFILE|ingress_lossy_profile]"
+                }{% if not loop.last %},{% endif %}
+
+{% endfor %}
+    },
+
+    "BUFFER_QUEUE": {
+{% for port in port_names_list %}
+        "{{ port }}|3-4": {
+             "profile" : "[BUFFER_PROFILE|egress_lossless_profile]"
+        },
+{% endfor %}
+{% for port in port_names_list %}
+        "{{ port }}|0-2": {
+            "profile" : "[BUFFER_PROFILE|egress_lossy_profile]"
+        },
+{% endfor %}
+{% for port in port_names_list %}
+        "{{ port }}|5-7": {
+            "profile" : "[BUFFER_PROFILE|egress_lossy_profile]"
+        }{% if not loop.last %},{% endif %}
+
+{% endfor %}
+    }
+}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/innovium.77700_A b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/innovium.77700_A
new file mode 100644
index 0000000..84aa419
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/innovium.77700_A
@@ -0,0 +1,59 @@
+sku:               innovium.77700_A
+
+device_id:         0x1b58
+
+# Hardware constraint information
+hardware:
+        num_ibs:           6
+
+        ports_per_ib:      32, 32, 32, 32, 20, 20
+        recirc_port_num:   32, 32, 32, 32, 32, 32
+        cpu_port_num:      33
+        cpu_port_ib:       0
+        mgmt_port_num:     33
+        mgmt_port_ibs:     1,2
+
+        pics_per_ib:       6, 7, 6, 5, 5, 5
+        pic_ports_per_pic: 8
+        max_serdes_speed:  50
+
+        num_shared_pics: 2
+
+        isg [0-4]:
+            ib: 0
+            pic_id: [0-4]
+
+        isg [5-9]:
+            ib: 5
+            pic_id: [0-4]
+
+        isg [10-14]:
+            ib: 1
+            pic_id: [0-4]
+
+        isg [16-20]:
+            ib: 3
+            pic_id: [0-4]
+
+        isg [21-25]:
+            ib: 4
+            pic_id: [0-4]
+
+        isg [26-30]:
+            ib: 2
+            pic_id: [0-4]
+
+        isg 15:
+            mode: 8:0
+            ib: 1
+            pic_id: 5
+
+        isg 31:
+            mode: 8:0
+            ib: 0
+            pic_id: 5
+
+        isg 32:
+            mode: 1:1
+            ib: 1, 2
+            pic_id: 6
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/innovium.77700_B b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/innovium.77700_B
new file mode 100644
index 0000000..27297b3
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/innovium.77700_B
@@ -0,0 +1,59 @@
+sku:               innovium.77700_B
+
+device_id:         0x1b58
+
+# Hardware constraint information
+hardware:
+        num_ibs:           6
+
+        ports_per_ib:      32, 32, 32, 32, 20, 20
+        recirc_port_num:   32, 32, 32, 32, 32, 32
+        cpu_port_num:      33
+        cpu_port_ib:       0
+        mgmt_port_num:     33
+        mgmt_port_ibs:     1,2
+
+        pics_per_ib:       6, 7, 7, 6, 5, 5
+        pic_ports_per_pic: 8
+        max_serdes_speed:  50
+
+        num_shared_pics: 2
+
+        isg [0-4]:
+            ib: 0
+            pic_id: [0-4]
+
+        isg [5-9]:
+            ib: 5
+            pic_id: [0-4]
+
+        isg [10-14]:
+            ib: 1
+            pic_id: [0-4]
+
+        isg [16-20]:
+            ib: 3
+            pic_id: [0-4]
+
+        isg [21-25]:
+            ib: 4
+            pic_id: [0-4]
+
+        isg [26-30]:
+            ib: 2
+            pic_id: [0-4]
+
+        isg 15:
+            mode: 4:4
+            ib: 1, 3
+            pic_id: 5
+
+        isg 31:
+            mode: 4:4
+            ib: 0, 2
+            pic_id: 5
+
+        isg 32:
+            mode: 1:1
+            ib: 1, 2
+            pic_id: 6
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/ivm.sai.config.yaml b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/ivm.sai.config.yaml
new file mode 100755
index 0000000..a129912
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/ivm.sai.config.yaml
@@ -0,0 +1,9 @@
+IFCS_INIT_FILE : "/usr/share/sonic/hwsku/6512-32_32x400G.config.yaml"
+IFCS_SKU_FILE : "/usr/share/sonic/hwsku/innovium.77700_A"
+IFCS_INNO_CLI_PORT : "9999"
+IFCS_TARGET : "device"
+INNOVIUM_DIR : "/innovium"
+PYTHONPATH : "$INNOVIUM_DIR:$INNOVIUM_DIR/cmds:$INNOVIUM_DIR/scripts:$INNOVIUM_DIR/test/:$INNOVIUM_DIR/test/utils:$INNOVIUM_DIR/utils:$INNOVIUM_DIR/pyctypes:$INNOVIUM_DIR/ifcs_cmds:$INNOVIUM_DIR/testutil:$INNOVIUM_DIR/isai_cmds"
+PLATFORM_LIBRARY: "/usr/share/sonic/platform/libplatform.so"
+IVM_SAI_DATAPATH_CONFIG_FILE: "/usr/share/sonic/hwsku/ivm.sai.datapath.config.yaml"
+IVM_SAI_PARAM_A0008: "32"
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/ivm.sai.datapath.config.yaml b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/ivm.sai.datapath.config.yaml
new file mode 100644
index 0000000..891b0b3
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/ivm.sai.datapath.config.yaml
@@ -0,0 +1,9 @@
+ISAI_PARAM_P0_0_LS : "4608 4608 4608 4608 2880 2880"
+ISAI_PARAM_P0_1_LS : "2226 1946 1946 1890 1218 1218"
+ISAI_PARAM_P0_1_ALS : "434 154 154 98 98 98"
+ISAI_PARAM_P1_0_LS : "1536 1536 1536 1536 960 960"
+ISAI_PARAM_P1_0_LL : "3072 3072 3072 3072 1920 1920"
+ISAI_PARAM_P1_1_LS : "1778 1498 1498 1442 938 938"
+ISAI_PARAM_P1_1_LL : "2478 2478 2478 2478 2478 2478"
+ISAI_PARAM_P1_1_ALS : "434 154 154 98 98 98"
+ISAI_PARAM_P1_1_ALL : "126 126 126 126 126 126"
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/pg_profile_lookup.ini b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/pg_profile_lookup.ini
new file mode 100644
index 0000000..0d88173
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/pg_profile_lookup.ini
@@ -0,0 +1,22 @@
+# PG lossless profiles.
+# speed   cable size  xon  xoff  threshold xon_offset
+  25000   5m    1518  0    15680   1       9408
+  50000   5m    1518  0    21248   1       9408
+  100000  5m    1518  0    34624   1       9408
+  200000  5m    1518  0    62368   1       9408
+  400000  5m    1518  0    117536  1       9408
+  25000   40m   1518  0    16928   1       9408
+  50000   40m   1518  0    23392   1       9408
+  100000  40m   1518  0    38816   1       9408
+  200000  40m   1518  0    71904   1       9408
+  400000  40m   1518  0    135520  1       9408
+  25000   100m  1518  0    18848   1       9408
+  50000   100m  1518  0    27264   1       9408
+  100000  100m  1518  0    46496   1       9408
+  200000  100m  1518  0    87168   1       9408
+  400000  100m  1518  0    166688  1       9408
+  25000   300m  1518  0    25184   1       9408
+  50000   300m  1518  0    40128   1       9408
+  100000  300m  1518  0    72384   1       9408
+  200000  300m  1518  0    138112  1       9408
+  400000  300m  1518  0    268640  1       9408
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/port_config.ini b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/port_config.ini
new file mode 100644
index 0000000..66220e6
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/port_config.ini
@@ -0,0 +1,33 @@
+# name              lanes                               alias       speed       index   mtu      fec
+Ethernet0           89,90,91,92,93,94,95,96             Eth1        400000      0       9126     rs
+Ethernet8           81,82,83,84,85,86,87,88             Eth2        400000      1       9126     rs
+Ethernet16          73,74,75,76,77,78,79,80             Eth3        400000      2       9126     rs
+Ethernet24          65,66,67,68,69,70,71,72             Eth4        400000      3       9126     rs
+Ethernet32          57,58,59,60,61,62,63,64             Eth5        400000      4       9126     rs
+Ethernet40          49,50,51,52,53,54,55,56             Eth6        400000      5       9126     rs
+Ethernet48          41,42,43,44,45,46,47,48             Eth7        400000      6       9126     rs
+Ethernet56          33,34,35,36,37,38,39,40             Eth8        400000      7       9126     rs
+Ethernet64          153,154,155,156,157,158,159,160     Eth9        400000      8       9126     rs
+Ethernet72          145,146,147,148,149,150,151,152     Eth10       400000      9       9126     rs
+Ethernet80          137,138,139,140,141,142,143,144     Eth11       400000      10      9126     rs
+Ethernet88          129,130,131,132,133,134,135,136     Eth12       400000      11      9126     rs
+Ethernet96          121,122,123,124,125,126,127,128     Eth13       400000      12      9126     rs
+Ethernet104         113,114,115,116,117,118,119,120     Eth14       400000      13      9126     rs
+Ethernet112         105,106,107,108,109,110,111,112     Eth15       400000      14      9126     rs
+Ethernet120         97,98,99,100,101,102,103,104        Eth16       400000      15      9126     rs
+Ethernet128         209,210,211,212,213,214,215,216     Eth17       400000      16      9126     rs
+Ethernet136         217,218,219,220,221,222,223,224     Eth18       400000      17      9126     rs
+Ethernet144         193,194,195,196,197,198,199,200     Eth19       400000      18      9126     rs
+Ethernet152         201,202,203,204,205,206,207,208     Eth20       400000      19      9126     rs
+Ethernet160         177,178,179,180,181,182,183,184     Eth21       400000      20      9126     rs
+Ethernet168         185,186,187,188,189,190,191,192     Eth22       400000      21      9126     rs
+Ethernet176         161,162,163,164,165,166,167,168     Eth23       400000      22      9126     rs
+Ethernet184         169,170,171,172,173,174,175,176     Eth24       400000      23      9126     rs
+Ethernet192         17,18,19,20,21,22,23,24             Eth25       400000      24      9126     rs
+Ethernet200         25,26,27,28,29,30,31,32             Eth26       400000      25      9126     rs
+Ethernet208         1,2,3,4,5,6,7,8                     Eth27       400000      26      9126     rs
+Ethernet216         9,10,11,12,13,14,15,16              Eth28       400000      27      9126     rs
+Ethernet224         241,242,243,244,245,246,247,248     Eth29       400000      28      9126     rs
+Ethernet232         249,250,251,252,253,254,255,256     Eth30       400000      29      9126     rs
+Ethernet240         225,226,227,228,229,230,231,232     Eth31       400000      30      9126     rs
+Ethernet248         233,234,235,236,237,238,239,240     Eth32       400000      31      9126     rs
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos.json.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos.json.j2
new file mode 100755
index 0000000..5343168
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos.json.j2
@@ -0,0 +1,129 @@
+{% set port_names_list = [] %}
+{% for port in PORT %}
+    {%- if port_names_list.append(port) %}{% endif %}
+{% endfor %}
+{% set port_names = port_names_list | join(',') -%}
+
+
+{
+   "TC_TO_QUEUE_MAP":{
+        "AZURE":{
+            "0":"0",
+            "1":"1",
+            "2":"2",
+            "3":"3",
+            "4":"4",
+            "5":"5",
+            "6":"6",
+            "7":"7"
+        }
+    },
+    "TC_TO_PRIORITY_GROUP_MAP": {
+    "AZURE": {
+        "0": "0",
+        "1": "0",
+        "2": "0",
+        "3": "3",
+        "4": "4",
+        "5": "0",
+        "6": "0",
+        "7": "0"
+    }
+    },
+       "DSCP_TO_TC_MAP": {
+        "AZURE": {
+            "0" : "1",
+            "1" : "1",
+            "2" : "1",
+            "3" : "3",
+            "4" : "4",
+            "5" : "2",
+            "6" : "1",
+            "7" : "1",
+            "8" : "0",
+            "9" : "1",
+            "10": "1",
+            "11": "1",
+            "12": "1",
+            "13": "1",
+            "14": "1",
+            "15": "1",
+            "16": "1",
+            "17": "1",
+            "18": "1",
+            "19": "1",
+            "20": "1",
+            "21": "1",
+            "22": "1",
+            "23": "1",
+            "24": "1",
+            "25": "1",
+            "26": "1",
+            "27": "1",
+            "28": "1",
+            "29": "1",
+            "30": "1",
+            "31": "1",
+            "32": "1",
+            "33": "1",
+            "34": "1",
+            "35": "1",
+            "36": "1",
+            "37": "1",
+            "38": "1",
+            "39": "1",
+            "40": "1",
+            "41": "1",
+            "42": "1",
+            "43": "1",
+            "44": "1",
+            "45": "1",
+            "46": "5",
+            "47": "1",
+            "48": "6",
+            "49": "1",
+            "50": "1",
+            "51": "1",
+            "52": "1",
+            "53": "1",
+            "54": "1",
+            "55": "1",
+            "56": "1",
+            "57": "1",
+            "58": "1",
+            "59": "1",
+            "60": "7",
+            "61": "1",
+            "62": "1",
+            "63": "1"
+        }
+    },
+    "PORT_QOS_MAP": {
+{% for port in port_names_list %}
+       "{{ port }}": {
+            "tc_to_pg_map": "[TC_TO_PRIORITY_GROUP_MAP|AZURE]",
+            "tc_to_queue_map": "[TC_TO_QUEUE_MAP|AZURE]",
+            "dscp_to_tc_map": "[DSCP_TO_TC_MAP|AZURE]",
+            "pfc_enable": "3,4"
+        }{% if not loop.last %},{% endif %}
+
+{% endfor %}
+    },
+    "WRED_PROFILE": {
+        "AZURE_LOSSLESS" : {
+            "wred_green_enable"      : "true",
+            "wred_yellow_enable"     : "true",
+            "wred_red_enable"        : "true",
+            "ecn"                    : "ecn_all",
+            "green_max_threshold"    : "2097152",
+            "green_min_threshold"    : "1048576",
+            "yellow_max_threshold"   : "2097152",
+            "yellow_min_threshold"   : "1048576",
+            "red_max_threshold"      : "2097152",
+            "red_min_threshold"      : "1048576",
+            "green_drop_probability" : "5",
+            "yellow_drop_probability": "5",
+            "red_drop_probability"   : "5"
+        }
+    }
+}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos_defaults_def_lossy.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos_defaults_def_lossy.j2
new file mode 100755
index 0000000..a2b84b9
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos_defaults_def_lossy.j2
@@ -0,0 +1,121 @@
+{% set port_names_list = [] %}
+{% for port in PORT %}
+    {%- if port_names_list.append(port) %}{% endif %}
+{% endfor %}
+{% set port_names = port_names_list | join(',') -%}
+
+
+{
+   "TC_TO_QUEUE_MAP":{
+        "AZURE":{
+            "0":"0",
+            "1":"1",
+            "2":"2",
+            "3":"3",
+            "4":"4",
+            "5":"5",
+            "6":"6",
+            "7":"7"
+        }
+    },
+    "TC_TO_PRIORITY_GROUP_MAP": {
+    "AZURE": {
+        "0": "0",
+        "1": "0",
+        "2": "0",
+        "3": "1",
+        "4": "2",
+        "5": "0",
+        "6": "0",
+        "7": "0"
+    }
+    },
+       "DSCP_TO_TC_MAP": {
+        "AZURE": {
+            "0":"0",
+            "1":"0",
+            "2":"0",
+            "3":"0",
+            "4":"0",
+            "5":"0",
+            "6":"0",
+            "7":"0",
+            "8":"0",
+            "9":"0",
+            "10":"0",
+            "11":"0",
+            "12":"0",
+            "13":"0",
+            "14":"0",
+            "15":"0",
+            "16":"0",
+            "17":"0",
+            "18":"0",
+            "19":"0",
+            "20":"0",
+            "21":"0",
+            "22":"0",
+            "23":"0",
+            "24":"0",
+            "25":"0",
+            "26":"0",
+            "27":"0",
+            "28":"0",
+            "29":"0",
+            "30":"0",
+            "31":"0",
+            "32":"0",
+            "33":"0",
+            "34":"0",
+            "35":"0",
+            "36":"0",
+            "37":"0",
+            "38":"0",
+            "39":"0",
+            "40":"0",
+            "41":"0",
+            "42":"0",
+            "43":"0",
+            "44":"0",
+            "45":"0",
+            "46":"0",
+            "47":"0",
+            "48":"0",
+            "49":"0",
+            "50":"0",
+            "51":"0",
+            "52":"0",
+            "53":"0",
+            "54":"0",
+            "55":"0",
+            "56":"0",
+            "57":"0",
+            "58":"0",
+            "59":"0",
+            "60":"0",
+            "61":"0",
+            "62":"0",
+            "63":"0"
+        }
+    },
+    "PORT_QOS_MAP": {
+{% for port in port_names_list %}
+       "{{ port }}": {
+            "tc_to_pg_map": "[TC_TO_PRIORITY_GROUP_MAP|AZURE]",
+            "tc_to_queue_map": "[TC_TO_QUEUE_MAP|AZURE]",
+            "dscp_to_tc_map": "[DSCP_TO_TC_MAP|AZURE]"
+        }{% if not loop.last %},{% endif %}
+
+{% endfor %}
+    },
+    "SCHEDULER": {
+        "scheduler.7": {
+            "type": "STRICT"
+        }
+    },
+    "QUEUE": {
+        "{{ port_names }}|7": {
+            "scheduler": "[SCHEDULER|scheduler.7]"
+        }
+    }
+}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos_defaults_t1.j2 b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos_defaults_t1.j2
new file mode 100755
index 0000000..5343168
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/qos_defaults_t1.j2
@@ -0,0 +1,129 @@
+{% set port_names_list = [] %}
+{% for port in PORT %}
+    {%- if port_names_list.append(port) %}{% endif %}
+{% endfor %}
+{% set port_names = port_names_list | join(',') -%}
+
+
+{
+   "TC_TO_QUEUE_MAP":{
+        "AZURE":{
+            "0":"0",
+            "1":"1",
+            "2":"2",
+            "3":"3",
+            "4":"4",
+            "5":"5",
+            "6":"6",
+            "7":"7"
+        }
+    },
+    "TC_TO_PRIORITY_GROUP_MAP": {
+    "AZURE": {
+        "0": "0",
+        "1": "0",
+        "2": "0",
+        "3": "3",
+        "4": "4",
+        "5": "0",
+        "6": "0",
+        "7": "0"
+    }
+    },
+       "DSCP_TO_TC_MAP": {
+        "AZURE": {
+            "0" : "1",
+            "1" : "1",
+            "2" : "1",
+            "3" : "3",
+            "4" : "4",
+            "5" : "2",
+            "6" : "1",
+            "7" : "1",
+            "8" : "0",
+            "9" : "1",
+            "10": "1",
+            "11": "1",
+            "12": "1",
+            "13": "1",
+            "14": "1",
+            "15": "1",
+            "16": "1",
+            "17": "1",
+            "18": "1",
+            "19": "1",
+            "20": "1",
+            "21": "1",
+            "22": "1",
+            "23": "1",
+            "24": "1",
+            "25": "1",
+            "26": "1",
+            "27": "1",
+            "28": "1",
+            "29": "1",
+            "30": "1",
+            "31": "1",
+            "32": "1",
+            "33": "1",
+            "34": "1",
+            "35": "1",
+            "36": "1",
+            "37": "1",
+            "38": "1",
+            "39": "1",
+            "40": "1",
+            "41": "1",
+            "42": "1",
+            "43": "1",
+            "44": "1",
+            "45": "1",
+            "46": "5",
+            "47": "1",
+            "48": "6",
+            "49": "1",
+            "50": "1",
+            "51": "1",
+            "52": "1",
+            "53": "1",
+            "54": "1",
+            "55": "1",
+            "56": "1",
+            "57": "1",
+            "58": "1",
+            "59": "1",
+            "60": "7",
+            "61": "1",
+            "62": "1",
+            "63": "1"
+        }
+    },
+    "PORT_QOS_MAP": {
+{% for port in port_names_list %}
+       "{{ port }}": {
+            "tc_to_pg_map": "[TC_TO_PRIORITY_GROUP_MAP|AZURE]",
+            "tc_to_queue_map": "[TC_TO_QUEUE_MAP|AZURE]",
+            "dscp_to_tc_map": "[DSCP_TO_TC_MAP|AZURE]",
+            "pfc_enable": "3,4"
+        }{% if not loop.last %},{% endif %}
+
+{% endfor %}
+    },
+    "WRED_PROFILE": {
+        "AZURE_LOSSLESS" : {
+            "wred_green_enable"      : "true",
+            "wred_yellow_enable"     : "true",
+            "wred_red_enable"        : "true",
+            "ecn"                    : "ecn_all",
+            "green_max_threshold"    : "2097152",
+            "green_min_threshold"    : "1048576",
+            "yellow_max_threshold"   : "2097152",
+            "yellow_min_threshold"   : "1048576",
+            "red_max_threshold"      : "2097152",
+            "red_min_threshold"      : "1048576",
+            "green_drop_probability" : "5",
+            "yellow_drop_probability": "5",
+            "red_drop_probability"   : "5"
+        }
+    }
+}
diff --git a/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/sai.profile b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/sai.profile
new file mode 100644
index 0000000..aba4fc8
--- /dev/null
+++ b/device/wistron/x86_64-wistron_6512_32r-r0/wistron_6512_32r/sai.profile
@@ -0,0 +1 @@
+SAI_INIT_CONFIG_FILE=/usr/share/sonic/hwsku/ivm.sai.config.yaml
diff --git a/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_fan.c b/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_fan.c
index 5788213..4d57ba7 100644
--- a/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_fan.c
+++ b/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_fan.c
@@ -200,7 +200,7 @@ static int wistron_fan_probe(struct i2c_client *client, const struct i2c_device_
 	if (status)
 		goto exit_free;
 
-	data->hwmon_dev = hwmon_device_register(&client->dev);
+	data->hwmon_dev = hwmon_device_register_with_info(&client->dev, "wistron_fan", NULL, NULL, NULL);
 	if (IS_ERR(data->hwmon_dev)) {
 		status = PTR_ERR(data->hwmon_dev);
 		goto exit_remove;
diff --git a/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_oom.c b/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_oom.c
index 5062e4f..4236373 100644
--- a/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_oom.c
+++ b/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_oom.c
@@ -248,7 +248,7 @@ static int wistron_oom_probe(struct i2c_client *client, const struct i2c_device_
 	if (status)
 		goto exit_free;
 
-	data->hwmon_dev = hwmon_device_register(&client->dev);
+	data->hwmon_dev = hwmon_device_register_with_info(&client->dev, "wistron_oom", NULL, NULL, NULL);
 	if (IS_ERR(data->hwmon_dev)) {
 		status = PTR_ERR(data->hwmon_dev);
 		goto exit_remove;
diff --git a/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_psu.c b/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_psu.c
index 60a37f1..1ea7764 100644
--- a/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_psu.c
+++ b/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_psu.c
@@ -293,7 +293,7 @@ static int wistron_psu_probe(struct i2c_client *client,
 	if (status)
 		goto exit_free;
 
-	data->hwmon_dev = hwmon_device_register(&client->dev);
+	data->hwmon_dev = hwmon_device_register_with_info(&client->dev, "wistron_psu", NULL, NULL, NULL);
 	if (IS_ERR(data->hwmon_dev)) {
 		status = PTR_ERR(data->hwmon_dev);
 		goto exit_remove;
diff --git a/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_syseeprom.c b/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_syseeprom.c
index 229ce8f..a281df7 100644
--- a/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_syseeprom.c
+++ b/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_syseeprom.c
@@ -97,7 +97,7 @@ static int wistron_syseeprom_probe(struct i2c_client *client, const struct i2c_d
 	if (status)
 		goto exit_free;
 
-	data->hwmon_dev = hwmon_device_register(&client->dev);
+	data->hwmon_dev = hwmon_device_register_with_info(&client->dev, "wistron_syseeprom", NULL, NULL, NULL);
 	if (IS_ERR(data->hwmon_dev)) {
 		status = PTR_ERR(data->hwmon_dev);
 		goto exit_remove;
diff --git a/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_thermal.c b/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_thermal.c
index 41a20b4..7d84104 100644
--- a/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_thermal.c
+++ b/platform/innovium/sonic-platform-modules-wistron/6512-32r/modules/wistron_6512_32r_thermal.c
@@ -135,7 +135,7 @@ static int wistron_thermal_probe(struct i2c_client *client, const struct i2c_dev
 	if (status)
 		goto exit_free;
 
-	data->hwmon_dev = hwmon_device_register(&client->dev);
+	data->hwmon_dev = hwmon_device_register_with_info(&client->dev, "wistron_thermal", NULL, NULL, NULL);
 	if (IS_ERR(data->hwmon_dev)) {
 		status = PTR_ERR(data->hwmon_dev);
 		goto exit_remove;
diff --git a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/platform_syseeprom b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/platform_syseeprom
index ee4074d..2db0a92 100755
--- a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/platform_syseeprom
+++ b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/platform_syseeprom
@@ -3,7 +3,7 @@ eeprom_part1=$(ipmitool raw 0x30 0x25 0x00 0xaa 0x80 0x0 2>>/dev/null)
 eeprom_part2=$(ipmitool raw 0x30 0x25 0x00 0xaa 0x80 0x80 2>>/dev/null)
 eeprom1_full=$eeprom_part1$eeprom_part2
 eeprom1_full=$(echo $eeprom1_full | sed 's/[[:space:]]//g')
-eeprom1_path="/sys/bus/i2c/devices/0-0055/eeprom1"
+eeprom1_path="/sys/bus/i2c/devices/0-0055/eeprom"
 eeprom1_full=$(echo $eeprom1_full | sed -e 's/ //g')
 echo $eeprom1_full > $eeprom1_path
 exit 0
diff --git a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-fanthrml-monitor b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-fanthrml-monitor
index d04bed4..38bc817 100755
--- a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-fanthrml-monitor
+++ b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-fanthrml-monitor
@@ -9,86 +9,124 @@ fan_pwm_val=0
 fan_rpm_val=0
 init_threshold=0
 
+byte_hex_test()
+{
+	if ! [[ $1  =~ ^[0-9A-Fa-f]{2}$ ]] ; then
+		return 0
+	else
+		return 1
+	fi
+}
+
+
 bmc_sensor_read()
 {
 	temp_val=$(ipmitool raw 0x30 0x88 2>>/dev/null)
-	if [ $? -eq 0 ];then
-		return 0
+	if [ $? -ne 0 ];then
+		return 1
 	fi
 
 	fan_val=$(ipmitool raw 0x30 0x22 2>>/dev/null)
-	if [ $? -eq 0 ];then
-		return 0
+	if [ $? -ne 0 ];then
+		return 1
 	fi
 
-	return 1
+	return 0
 }
 
 #$1=get(0)/set(1), $2=ctrl_mode(1:manual, 0:auto)
 #get rtn: ctrl_mode_val, fan_pwm_val
 bmc_fan_speed_ctrl()
 {
-	if [ -e /sys/bus/i2c/devices/0-0023/pwm ];then
+	if [ -e /sys/bus/i2c/devices/0-0044/pwm ];then
 		if [ $1 -eq 1 ];then
 			#Set Fan Speed Control
 			if [ $2 -eq 0 ];then
 				ipmitool raw 0x30 0x21 0x0 0x0 1>/dev/null 2>/dev/null
 			else
-				fan_pwm_input=$(cat /sys/bus/i2c/devices/0-0023/pwm | awk '{printf $1}')
+				fan_pwm_input=$(cat /sys/bus/i2c/devices/0-0044/pwm | awk '{printf $1}')
 				fan_pwm_input=$( printf "%d" 0x$fan_pwm_input )
 				ipmitool raw 0x30 0x21 0x1 $fan_pwm_input 1>/dev/null 2>/dev/null
 			fi
 		else
 			#Get Fan Speed Control
-			ctrl_mode_val=$(echo $ipmi_val | awk '{printf $1}')
-			fan_pwm_val=$(echo $ipmi_val | awk '{printf $2}')
+			ctrl_mode_val=$(echo $fan_val | awk '{printf $1}')
+			fan_pwm_val=$(echo $fan_val | awk '{printf $2}')
+			byte_hex_test $ctl_mode_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
+			byte_hex_test $fan_pwm_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			ctrl_mode_val=$( printf "%d" 0x$ctrl_mode_val )
 			fan_pwm_val=$( printf "%d" 0x$fan_pwm_val )
-			echo $fan_pwm_val > /sys/bus/i2c/devices/0-0023/pwm
+			echo $fan_pwm_val > /sys/bus/i2c/devices/0-0044/pwm
 		fi
 	fi
 }
 
 bmc_fan_presence()
 {
-	if [ -e /sys/bus/i2c/devices/0-0023/fan1_present ];then
+	if [ -e /sys/bus/i2c/devices/0-0044/fan1_present ];then
 		for i in $(seq 0 6);
 		do
-			p=$((32+i))
+			p=$((31+i))
 			fan_pre_val=$(echo $fan_val | awk '{print $'"$p"'}')
+			byte_hex_test $fan_pre_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			fan_pre_val=$( printf "%d" 0x$fan_pre_val )
-			echo $fan_pre_val > /sys/bus/i2c/devices/0-0023/fan$((i+1))_present
+			echo $fan_pre_val > /sys/bus/i2c/devices/0-0044/fan$((i+1))_present
 		done
 	fi
 }
 
 bmc_fan_speed_rpm()
 {
-	if [ -e /sys/bus/i2c/devices/0-0023/fan1_input ];then
+	if [ -e /sys/bus/i2c/devices/0-0044/fan1_input ];then
 		for i in $(seq 0 6);
 		do
-			p1=$((4+i*2))
-			p2=$((5+i*2))
-			p3=$((18+i*2))
-			p4=$((19+i*2))
+			p1=$((3+i*2))
+			p2=$((4+i*2))
+			p3=$((17+i*2))
+			p4=$((18+i*2))
 
 			#front
 			hi_byte=$(echo $fan_val | awk '{print $'"$p1"'}')
 			lo_byte=$(echo $fan_val | awk '{print $'"$p2"'}')
+			byte_hex_test $hi_byte
+			if [ $? -eq 0 ]; then
+				return
+			fi
+			byte_hex_test $lo_byte
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			hi_byte=$( printf "%d" 0x$hi_byte )
 			lo_byte=$( printf "%d" 0x$lo_byte )
 			fan_rpm_val=$((hi_byte<<8))
 			fan_rpm_val=`expr $fan_rpm_val + $lo_byte`
-			echo $fan_rpm_val > /sys/bus/i2c/devices/0-0023/fan$((i+1))_input
+			echo $fan_rpm_val > /sys/bus/i2c/devices/0-0044/fan$((i+1))_input
 
 			#rear
 			hi_byte=$(echo $fan_val | awk '{print $'"$p3"'}')
 			lo_byte=$(echo $fan_val | awk '{print $'"$p4"'}')
+			byte_hex_test $hi_byte
+			if [ $? -eq 0 ]; then
+				return
+			fi
+			byte_hex_test $lo_byte
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			hi_byte=$( printf "%d" 0x$hi_byte )
 			lo_byte=$( printf "%d" 0x$lo_byte )
 			fan_rpm_val=$((hi_byte<<8))
 			fan_rpm_val=`expr $fan_rpm_val + $lo_byte`
-			echo $fan_rpm_val > /sys/bus/i2c/devices/0-0023/fan$((i+8))_input
+			echo $fan_rpm_val > /sys/bus/i2c/devices/0-0044/fan$((i+8))_input
 		done
 	fi
 }
@@ -113,42 +151,74 @@ do_thermal_update()
 {
 	if [ -e /sys/bus/i2c/devices/0-004f/temp1_input ];then
 		#mcp3425
-		thermal_val=$(echo $temp_val | awk '{printf $9}')
+		thermal_val=$(echo $temp_val | awk '{printf $8}')
+		byte_hex_test $thermal_val
+		if [ $? -eq 0 ]; then
+			return
+		fi
 		thermal_val=$( printf "%d" 0x$thermal_val )
 		thermal_val=`expr $thermal_val \* 1000`
 		echo $thermal_val > /sys/bus/i2c/devices/0-0068/temp1_input
 
-		thermal_val=$(echo $temp_val | awk '{printf $16}')
+		thermal_val=$(echo $temp_val | awk '{printf $15}')
+		byte_hex_test $thermal_val
+		if [ $? -eq 0 ]; then
+			return
+		fi
 		thermal_val=$( printf "%d" 0x$thermal_val )
 		thermal_val=`expr $thermal_val \* 1000`
 		echo $thermal_val > /sys/bus/i2c/devices/0-004a/temp1_input
 
-		thermal_val=$(echo $temp_val | awk '{printf $23}')
+		thermal_val=$(echo $temp_val | awk '{printf $22}')
+		byte_hex_test $thermal_val
+		if [ $? -eq 0 ]; then
+			return
+		fi
 		thermal_val=$( printf "%d" 0x$thermal_val )
 		thermal_val=`expr $thermal_val \* 1000`
 		echo $thermal_val > /sys/bus/i2c/devices/0-0049/temp1_input
 
-		thermal_val=$(echo $temp_val | awk '{printf $30}')
+		thermal_val=$(echo $temp_val | awk '{printf $29}')
+		byte_hex_test $thermal_val
+		if [ $? -eq 0 ]; then
+			return
+		fi
 		thermal_val=$( printf "%d" 0x$thermal_val )
 		thermal_val=`expr $thermal_val \* 1000`
 		echo $thermal_val > /sys/bus/i2c/devices/0-004b/temp1_input
 
-		thermal_val=$(echo $temp_val | awk '{printf $37}')
+		thermal_val=$(echo $temp_val | awk '{printf $36}')
+		byte_hex_test $thermal_val
+		if [ $? -eq 0 ]; then
+			return
+		fi
 		thermal_val=$( printf "%d" 0x$thermal_val )
 		thermal_val=`expr $thermal_val \* 1000`
 		echo $thermal_val > /sys/bus/i2c/devices/0-004c/temp1_input
 
-		thermal_val=$(echo $temp_val | awk '{printf $44}')
+		thermal_val=$(echo $temp_val | awk '{printf $43}')
+		byte_hex_test $thermal_val
+		if [ $? -eq 0 ]; then
+			return
+		fi
 		thermal_val=$( printf "%d" 0x$thermal_val )
 		thermal_val=`expr $thermal_val \* 1000`
 		echo $thermal_val > /sys/bus/i2c/devices/0-004f/temp1_input
 
-		thermal_val=$(echo $temp_val | awk '{printf $51}')
+		thermal_val=$(echo $temp_val | awk '{printf $50}')
+		byte_hex_test $thermal_val
+		if [ $? -eq 0 ]; then
+			return
+		fi
 		thermal_val=$( printf "%d" 0x$thermal_val )
 		thermal_val=`expr $thermal_val \* 1000`
 		echo $thermal_val > /sys/bus/i2c/devices/0-0048/temp1_input
 
-		thermal_val=$(echo $temp_val | awk '{printf $58}')
+		thermal_val=$(echo $temp_val | awk '{printf $57}')
+		byte_hex_test $thermal_val
+		if [ $? -eq 0 ]; then
+			return
+		fi
 		thermal_val=$( printf "%d" 0x$thermal_val )
 		thermal_val=`expr $thermal_val \* 1000`
 		# fan tmp75 should be 0x49, but conflict
@@ -161,74 +231,138 @@ do_thermal_threshold_init()
 	if [ $init_threshold -eq 0 ]; then
 		if [ -e /sys/bus/i2c/devices/0-004f/temp1_max ];then
 			#mcp3425
-			thermal_val=$(echo $temp_val | awk '{printf $14}')
+			thermal_val=$(echo $temp_val | awk '{printf $13}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-0068/temp1_max
-			thermal_val=$(echo $temp_val | awk '{printf $15}')
+			thermal_val=$(echo $temp_val | awk '{printf $14}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-0068/temp1_crit
 
-			thermal_val=$(echo $temp_val | awk '{printf $21}')
+			thermal_val=$(echo $temp_val | awk '{printf $20}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-004a/temp1_max
-			thermal_val=$(echo $temp_val | awk '{printf $22}')
+			thermal_val=$(echo $temp_val | awk '{printf $21}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-004a/temp1_crit
 
-			thermal_val=$(echo $temp_val | awk '{printf $28}')
+			thermal_val=$(echo $temp_val | awk '{printf $27}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-0049/temp1_max
-			thermal_val=$(echo $temp_val | awk '{printf $29}')
+			thermal_val=$(echo $temp_val | awk '{printf $28}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-0049/temp1_crit
 
-			thermal_val=$(echo $temp_val | awk '{printf $35}')
+			thermal_val=$(echo $temp_val | awk '{printf $34}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-004b/temp1_max
-			thermal_val=$(echo $temp_val | awk '{printf $36}')
+			thermal_val=$(echo $temp_val | awk '{printf $35}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-004b/temp1_crit
 
-			thermal_val=$(echo $temp_val | awk '{printf $42}')
+			thermal_val=$(echo $temp_val | awk '{printf $41}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-004c/temp1_max
-			thermal_val=$(echo $temp_val | awk '{printf $43}')
+			thermal_val=$(echo $temp_val | awk '{printf $42}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-004c/temp1_crit
 
-			thermal_val=$(echo $temp_val | awk '{printf $49}')
+			thermal_val=$(echo $temp_val | awk '{printf $48}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-004f/temp1_max
-			thermal_val=$(echo $temp_val | awk '{printf $50}')
+			thermal_val=$(echo $temp_val | awk '{printf $49}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-004f/temp1_crit
 
-			thermal_val=$(echo $temp_val | awk '{printf $56}')
+			thermal_val=$(echo $temp_val | awk '{printf $55}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-0048/temp1_max
-			thermal_val=$(echo $temp_val | awk '{printf $57}')
+			thermal_val=$(echo $temp_val | awk '{printf $56}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-0048/temp1_crit
 
-			thermal_val=$(echo $temp_val | awk '{printf $63}')
+			thermal_val=$(echo $temp_val | awk '{printf $62}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-004d/temp1_max
-			thermal_val=$(echo $temp_val | awk '{printf $64}')
+			thermal_val=$(echo $temp_val | awk '{printf $63}')
+			byte_hex_test $thermal_val
+			if [ $? -eq 0 ]; then
+				return
+			fi
 			thermal_val=$( printf "%d" 0x$thermal_val )
 			thermal_val=`expr $thermal_val \* 1000`
 			echo $thermal_val > /sys/bus/i2c/devices/0-004d/temp1_crit
@@ -242,7 +376,7 @@ FAN_Thermal_monitor()
 {
 	if [ $debug_flag -eq 1 ];then
 		fan_pwm_input=100
-		echo $fan_pwm_input > /sys/bus/i2c/devices/0-0023/pwm
+		echo $fan_pwm_input > /sys/bus/i2c/devices/0-0044/pwm
 	fi
 
 	while true
diff --git a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-led-monitor b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-led-monitor
index 875a350..dc33317 100755
--- a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-led-monitor
+++ b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-led-monitor
@@ -2,13 +2,26 @@
 
 led_state=0
 
+byte_hex_test()
+{
+	if ! [[ $1  =~ ^[0-9A-Fa-f]{2}$ ]] ; then
+		return 0
+	else
+		return 1
+	fi
+}
+
 #$1=led_no(1=loc, 2=diag, 3=fan, 4=psu)
 bmc_led_read()
 {
 	led_state=0
-	val=$(ipmitool raw 0x30 0x25 0x00 0x30 0x1 0x81 2>>/dev/null)
+	val=$(ipmitool raw 0x30 0x25 0x00 0x60 0x1 0x81 2>>/dev/null)
 	res=$?
 	val=$(echo $val | awk '{printf $1}')
+	byte_hex_test $val
+	if [ $? -eq 0 ]; then
+		return
+	fi
 	val=$( printf "%d" 0x$val )
 	loc=$(($val & 0x3))
 	sys=$((($val & 0xc) >> 2))
diff --git a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-psu-monitor b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-psu-monitor
index 48a8c79..6d98a73 100755
--- a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-psu-monitor
+++ b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-psu-monitor
@@ -2,8 +2,22 @@
 
 result=0
 debug_flag=0
+
+byte_hex_test()
+{
+	if ! [[ $1  =~ ^[0-9A-Fa-f]{2}$ ]] ; then
+		return 0
+	else
+		return 1
+	fi
+}
+
 byte_read(){
 	data=$(echo $val | awk '{print $'"$1"'}')
+	byte_hex_test $data
+	if [ $? -eq 0 ]; then
+		return
+	fi
 	data=$(printf "%d" 0x$data)
 	Value=$data
 	return 1
@@ -12,6 +26,14 @@ byte_read(){
 add_byte(){
 	hi_byte=$(echo $val | awk '{print $'"$1"'}')
 	lo_byte=$(echo $val | awk '{print $'"$2"'}')
+	byte_hex_test $hi_byte
+	if [ $? -eq 0 ]; then
+		return 0
+	fi
+	byte_hex_test $lo_byte
+	if [ $? -eq 0 ]; then
+		return 0
+	fi
 	hi_byte=$(printf "%d" 0x$hi_byte)
 	lo_byte=$(printf "%d" 0x$lo_byte)
 	((hi_byte <<= 8))
@@ -144,42 +166,42 @@ get_PSU_information()
 			echo $Value > /sys/bus/i2c/devices/0-0059/fault
 		fi
 	fi
-fi
-#____________________________________________________________________________
-
-val=$(ipmitool raw 0x30 0x8a 2>>/dev/null)
-if [ -e /sys/bus/i2c/devices/0-005a/vendor ] && [ -e /sys/bus/i2c/devices/0-0059/vendor ];then
-	#PSU1 mfr_ID
-	string_read 1 11
-	if [ $? -eq 1 ];then
-		echo $Value > /sys/bus/i2c/devices/0-005a/vendor
-	fi
-	#PSU2 mfr_ID
-	string_read 12 11
-	if [ $? -eq 1 ];then
-		echo $Value > /sys/bus/i2c/devices/0-0059/vendor
-	fi
-	#PSU1 mfr_model
-	string_read 23 11
-	if [ $? -eq 1 ];then
-		echo $Value > /sys/bus/i2c/devices/0-005a/model
-	fi
-	#PSU2 mfr_model
-	string_read 34 11
-	if [ $? -eq 1 ];then
-		echo $Value > /sys/bus/i2c/devices/0-0059/model
-	fi
-	#PSU1 mfr_serial
-	string_read 45 24
-	if [ $? -eq 1 ];then
-		echo $Value > /sys/bus/i2c/devices/0-005a/sn
-	fi
-	#PSU1 mfr_serial
-	string_read 70 24
-	if [ $? -eq 1 ];then
-		echo $Value > /sys/bus/i2c/devices/0-0059/sn
+
+	#____________________________________________________________________________
+
+	val=$(ipmitool raw 0x30 0x8a 2>>/dev/null)
+	if [ -e /sys/bus/i2c/devices/0-005a/vendor ] && [ -e /sys/bus/i2c/devices/0-0059/vendor ];then
+		#PSU1 mfr_ID
+		string_read 1 11
+		if [ $? -eq 1 ];then
+			echo $Value > /sys/bus/i2c/devices/0-005a/vendor
+		fi
+		#PSU2 mfr_ID
+		string_read 12 11
+		if [ $? -eq 1 ];then
+			echo $Value > /sys/bus/i2c/devices/0-0059/vendor
+		fi
+		#PSU1 mfr_model
+		string_read 23 11
+		if [ $? -eq 1 ];then
+			echo $Value > /sys/bus/i2c/devices/0-005a/model
+		fi
+		#PSU2 mfr_model
+		string_read 34 11
+		if [ $? -eq 1 ];then
+			echo $Value > /sys/bus/i2c/devices/0-0059/model
+		fi
+		#PSU1 mfr_serial
+		string_read 45 24
+		if [ $? -eq 1 ];then
+			echo $Value > /sys/bus/i2c/devices/0-005a/sn
+		fi
+		#PSU1 mfr_serial
+		string_read 70 24
+		if [ $? -eq 1 ];then
+			echo $Value > /sys/bus/i2c/devices/0-0059/sn
+		fi
 	fi
-fi
 }
 
 #$1=dev_addr, $2=reg, $3=len
diff --git a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-qsfp-monitor b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-qsfp-monitor
index 0371755..9d090d8 100755
--- a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-qsfp-monitor
+++ b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/sonic-qsfp-monitor
@@ -1,7 +1,7 @@
 #!/bin/bash
 
 debug_flag=0
-port_map=('00' '10' '11' '12' '13' '14' '15' '16' '17' '18' '19' '20' '21' '22' '23' '24' '25' '26' '27' '28' '29' '30' '31' '32' '33' '34' '35' '36' '37' '38' '39' '40' '41')
+port_map=('00' '10' '11' '12' '13' '14' '15' '16' '17' '18' '19' '1a' '1b' '1c' '1d' '1e' '1f' '20' '21' '22' '23' '24' '25' '26' '27' '28' '29' '2a' '2b' '2c' '2d' '2e' '2f')
 port_1_8_presence=0
 port_9_16_presence=0
 port_17_24_presence=0
@@ -13,12 +13,21 @@ port_25_32_reset=0
 
 result=0
 
+byte_hex_test()
+{
+	if ! [[ $1  =~ ^[0-9A-Fa-f]{2}$ ]] ; then
+		return 0
+	else
+		return 1
+	fi
+}
+
 #$1=mux $2=channel $3=dev_addr, $4=reg, $5=val
 bmc_write()
 {
 	addr_8b=$(echo $(($3)) | awk '{printf $1}')
 	addr_8b=`expr $addr_8b \\* 2`
-	ipmitool raw 0x30 0x85 $1 $2 $addr_8b 1 $4 $5 1>>/dev/null 2>>/dev/null
+	ipmitool raw 0x30 0x85 $1 $2 $addr_8b 2 $4 $5 1>>/dev/null 2>>/dev/null
 	sleep 1
 	ipmitool raw 0x30 0x87 1>>/dev/null 2>>/dev/null
 }
@@ -46,20 +55,18 @@ bmc_qsfp_lpmode_write()
 	val=0
 	for i in $(seq 1 8);
 	do
-		val=$((val<<1))
 		lpmode_path=$cpld_path"port"$i"_lpmode"
 		lpmode_input=$(cat $lpmode_path | awk '{printf $1}')
-		val=$((val | lpmode_input))
+		val=$((val | (lpmode_input << ($i - 1))))
 	done
 
 	ipmitool raw 0x30 0x25 0x00 0x0c 0x0 0x50 $val 1>>/dev/null 2>>/dev/null
 	val=0
 	for i in $(seq 9 16);
 	do
-		val=$((val<<1))
 		lpmode_path=$cpld_path"port"$i"_lpmode"
 		lpmode_input=$(cat $lpmode_path | awk '{printf $1}')
-		val=$((val | lpmode_input))
+		val=$((val | (lpmode_input << ($i - 9))))
 	done
 
 	ipmitool raw 0x30 0x25 0x00 0x0c 0x0 0x51 $val 1>>/dev/null 2>>/dev/null
@@ -68,20 +75,18 @@ bmc_qsfp_lpmode_write()
 	val=0
 	for i in $(seq 17 24);
 	do
-		val=$((val<<1))
 		lpmode_path=$cpld_path"port"$i"_lpmode"
 		lpmode_input=$(cat $lpmode_path | awk '{printf $1}')
-		val=$((val | lpmode_input))
+		val=$((val | (lpmode_input << ($i - 17))))
 	done
 
 	ipmitool raw 0x30 0x25 0x00 0x0e 0x0 0x50 $val 1>>/dev/null 2>>/dev/null
 	val=0
 	for i in $(seq 25 32);
 	do
-		val=$((val<<1))
 		lpmode_path=$cpld_path"port"$i"_lpmode"
 		lpmode_input=$(cat $lpmode_path | awk '{printf $1}')
-		val=$((val | lpmode_input))
+		val=$((val | (lpmode_input << ($i - 25))))
 	done
 
 	ipmitool raw 0x30 0x25 0x00 0x0e 0x0 0x51 $val 1>>/dev/null 2>>/dev/null
@@ -97,44 +102,44 @@ bmc_qsfp_modsel_write()
 	val=0
 	for i in $(seq 1 8);
 	do
-		val=$((val<<1))
 		modsel_path=$cpld_path"port"$i"_modsel"
 		modsel_input=$(cat $modsel_path | awk '{printf $1}')
-		val=$((val | modsel_input))
+		val=$((val | (modsel_input << ($i - 1))))
 	done
 
+	val=$((0xff - val))
 	ipmitool raw 0x30 0x25 0x00 0x0c 0x0 0x60 $val 1>>/dev/null 2>>/dev/null
 	val=0
 	for i in $(seq 9 16);
 	do
-		val=$((val<<1))
 		modsel_path=$cpld_path"port"$i"_modsel"
 		modsel_input=$(cat $modsel_path | awk '{printf $1}')
-		val=$((val | modsel_input))
+		val=$((val | (modsel_input << ($i - 9))))
 	done
 
+	val=$((0xff - val))
 	ipmitool raw 0x30 0x25 0x00 0x0c 0x0 0x61 $val 1>>/dev/null 2>>/dev/null
 
 	cpld_path="/sys/bus/i2c/devices/0-0007/"
 	val=0
 	for i in $(seq 17 24);
 	do
-		val=$((val<<1))
 		modsel_path=$cpld_path"port"$i"_modsel"
 		modsel_input=$(cat $modsel_path | awk '{printf $1}')
-		val=$((val | modsel_input))
+		val=$((val | (modsel_input << ($i - 17))))
 	done
 
+	val=$((0xff - val))
 	ipmitool raw 0x30 0x25 0x00 0x0e 0x0 0x60 $val 1>>/dev/null 2>>/dev/null
 	val=0
 	for i in $(seq 25 32);
 	do
-		val=$((val<<1))
 		modsel_path=$cpld_path"port"$i"_modsel"
 		modsel_input=$(cat $modsel_path | awk '{printf $1}')
-		val=$((val | modsel_input))
+		val=$((val | (modsel_input << ($i - 25))))
 	done
 
+	val=$((0xff - val))
 	ipmitool raw 0x30 0x25 0x00 0x0e 0x0 0x61 $val 1>>/dev/null 2>>/dev/null
 
 
@@ -146,16 +151,36 @@ bmc_qsfp_presence_read()
 	a=0
 	tmp1=$(ipmitool raw 0x30 0x25 0x00 0x0c 0x1 0x30 2>>/dev/null)
 	a=$((a+$?))
+	tmp1=$(echo $tmp1 | awk '{printf $1}')
 	tmp2=$(ipmitool raw 0x30 0x25 0x00 0x0c 0x1 0x31 2>>/dev/null)
 	a=$((a+$?))
+	tmp2=$(echo $tmp2 | awk '{printf $1}')
 	tmp3=$(ipmitool raw 0x30 0x25 0x00 0x0e 0x1 0x30 2>>/dev/null)
 	a=$((a+$?))
+	tmp3=$(echo $tmp3 | awk '{printf $1}')
 	tmp4=$(ipmitool raw 0x30 0x25 0x00 0x0e 0x1 0x31 2>>/dev/null)
 	a=$((a+$?))
+	tmp4=$(echo $tmp4 | awk '{printf $1}')
 	if [ $a -eq 0 ];then
+		byte_hex_test $tmp1
+		if [ $? -eq 0 ]; then
+			return 0
+		fi
 		port_1_8_presence=$( printf "%d" 0x$tmp1 )
+		byte_hex_test $tmp2
+		if [ $? -eq 0 ]; then
+			return 0
+		fi
 		port_9_16_presence=$( printf "%d" 0x$tmp2 )
+		byte_hex_test $tmp3
+		if [ $? -eq 0 ]; then
+			return 0
+		fi
 		port_17_24_presence=$( printf "%d" 0x$tmp3 )
+		byte_hex_test $tmp4
+		if [ $? -eq 0 ]; then
+			return 0
+		fi
 		port_25_32_presence=$( printf "%d" 0x$tmp4 )
 		return 1
 	fi
@@ -163,49 +188,55 @@ bmc_qsfp_presence_read()
 	return 0
 }
 
-#$1=port_no
 bmc_qsfp_reset_write()
 {
-	local port=$1
-	port=`expr $port - 1`
-	port_blk=0
-	port_blk=`expr $port / 8`
-	bit_idx=`expr $port % 8`
-	bit_idx=$((1<<$bit_idx))
-
-	if [ $port_blk -eq 1 ];then
-		val=$(ipmitool raw 0x30 0x25 0x00 0x0c 0x1 0x20 2>>/dev/null)
-		tmp=$(($val ^ $bit_idx))
-		#set to reset state
-		ipmitool raw 0x30 0x25 0x00 0x0c 0x0 0x20 $tmp 1>>/dev/null 2>>/dev/null
-
-		#set back to normal state
-		ipmitool raw 0x30 0x25 0x00 0x0c 0x0 0x20 $val 1>>/dev/null 2>>/dev/null
-	elif [ $port_blk -eq 2 ];then
-		val=$(ipmitool raw 0x30 0x25 0x00 0x0c 0x1 0x21 2>>/dev/null)
-		tmp=$(($val ^ $bit_idx))
-		#set to reset state
-		ipmitool raw 0x30 0x25 0x00 0x0c 0x0 0x21 $tmp 1>>/dev/null 2>>/dev/null
-
-		#set back to normal state
-		ipmitool raw 0x30 0x25 0x00 0x0c 0x0 0x21 $val 1>>/dev/null 2>>/dev/null
-	elif [ $port_blk -eq 3 ];then
-		val=$(ipmitool raw 0x30 0x25 0x00 0x0e 0x1 0x20 2>>/dev/null)
-		tmp=$(($val ^ $bit_idx))
-		#set to reset state
-		ipmitool raw 0x30 0x25 0x00 0x0e 0x0 0x20 $tmp 1>>/dev/null 2>>/dev/null
-
-		#set back to normal state
-		ipmitool raw 0x30 0x25 0x00 0x0e 0x0 0x20 $val 1>>/dev/null 2>>/dev/null
-	else
-		val=$(ipmitool raw 0x30 0x25 0x00 0x0e 0x1 0x21 2>>/dev/null)
-		tmp=$(($val ^ $bit_idx))
-		#set to reset state
-		ipmitool raw 0x30 0x25 0x00 0x0e 0x0 0x21 $tmp 1>>/dev/null 2>>/dev/null
 
-		#set back to normal state
-		ipmitool raw 0x30 0x25 0x00 0x0e 0x0 0x21 $val 1>>/dev/null 2>>/dev/null
-	fi
+	cpld_path="/sys/bus/i2c/devices/0-0006/"
+	val=0
+	for i in $(seq 1 8);
+	do
+		reset_path=$cpld_path"port"$i"_reset"
+		reset_input=$(cat $reset_path | awk '{printf $1}')
+		val=$((val | (reset_input << ($i - 1))))
+	done
+
+	val=$((0xff - val))
+	ipmitool raw 0x30 0x25 0x00 0x0c 0x0 0x20 $val 1>>/dev/null 2>>/dev/null
+	val=0
+	for i in $(seq 9 16);
+	do
+		reset_path=$cpld_path"port"$i"_reset"
+		reset_input=$(cat $reset_path | awk '{printf $1}')
+		val=$((val | (reset_input << ($i - 9))))
+	done
+
+	val=$((0xff - val))
+	ipmitool raw 0x30 0x25 0x00 0x0c 0x0 0x21 $val 1>>/dev/null 2>>/dev/null
+
+	cpld_path="/sys/bus/i2c/devices/0-0007/"
+	val=0
+	for i in $(seq 17 24);
+	do
+		reset_path=$cpld_path"port"$i"_reset"
+		reset_input=$(cat $reset_path | awk '{printf $1}')
+		val=$((val | (reset_input << ($i - 17))))
+	done
+
+	val=$((0xff - val))
+	ipmitool raw 0x30 0x25 0x00 0x0e 0x0 0x20 $val 1>>/dev/null 2>>/dev/null
+	val=0
+	for i in $(seq 25 32);
+	do
+		reset_path=$cpld_path"port"$i"_reset"
+		reset_input=$(cat $reset_path | awk '{printf $1}')
+		val=$((val | (reset_input << ($i - 25))))
+	done
+
+	val=$((0xff - val))
+	ipmitool raw 0x30 0x25 0x00 0x0e 0x0 0x21 $val 1>>/dev/null 2>>/dev/null
+
+
+	return 0
 }
 
 #$1=port_no
@@ -222,7 +253,7 @@ bmc_qsfp_eeprom_read()
 	port=`expr $port - 1`
 	i2cmux_dev=0
 	i2cmux_dev=`expr $port / 8`
-	i2cmux_dev=`expr $i2cmux_dev + 2))`
+	i2cmux_dev=`expr $i2cmux_dev + 2`
 	ch=`expr $port % 8`
 
 	bmc_write $i2cmux_dev $ch 0x50 0x7f 0x00
@@ -259,6 +290,10 @@ bmc_qsfp_eeprom_read()
 	fi
 
 	sfp_type=$(echo $eeprom_part1 | awk '{printf $1}')
+	byte_hex_test $sfp_type
+	if [ $? -eq 0 ]; then
+		return
+	fi
 	sfp_type=$( printf "%d" 0x$sfp_type )
 
 	#get temperature
@@ -339,7 +374,7 @@ QSFP_monitor()
 {
 	while true
 	do
-		if [ -e /sys/bus/i2c/devices/0-0006/port1_present ] && [ -e /sys/bus/i2c/devices/0-0007/port32_present ] && [ -e /sys/bus/i2c/devices/0-0041/eeprom1 ];then
+		if [ -e /sys/bus/i2c/devices/0-0006/port1_present ] && [ -e /sys/bus/i2c/devices/0-0007/port32_present ] && [ -e /sys/bus/i2c/devices/0-002f/eeprom1 ];then
 			bmc_qsfp_presence_read
 			mod_presence=$((port_25_32_presence<<8))
 			mod_presence=`expr $mod_presence + $port_17_24_presence`
@@ -350,6 +385,7 @@ QSFP_monitor()
 
 			bmc_qsfp_lpmode_write
 			bmc_qsfp_modsel_write
+			bmc_qsfp_reset_write
 
 			for i in $(seq 1 32);
 			do
@@ -363,23 +399,14 @@ QSFP_monitor()
 				fi
 
 				if [ $is_presence -eq 0 ];then
+					echo 1 > $cpld_path"port"$i"_present"
 					bmc_qsfp_eeprom_read $i
-					if [ $? -eq 0 ];then
-						echo 1 > $cpld_path"port"$i"_present"
-
-						reset_path=$cpld_path"port"$i"_reset"
-						reset_input=$(cat $reset_path | awk '{printf $1}')
-						if [ $reset_input -eq 1 ];then
-							bmc_qsfp_reset_write $i
-							echo 0 > $reset_path
-						fi
-					fi
 				else
 					echo 0 > $cpld_path"port"$i"_present"
 					bmc_qsfp_eeprom_clear $i
 				fi
 			done
-			sleep 5
+			sleep 2
 		else
 			sleep 1
 		fi
diff --git a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/wistron_6512_32r_util.py b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/wistron_6512_32r_util.py
index a388738..0a7b072 100755
--- a/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/wistron_6512_32r_util.py
+++ b/platform/innovium/sonic-platform-modules-wistron/6512-32r/utils/wistron_6512_32r_util.py
@@ -35,27 +35,27 @@ hwmon_prefix ={'led': led_prefix}
 
 i2c_prefix = '/sys/bus/i2c/devices/'
 
-i2c_bus = {'fan': ['0-0023'],
+i2c_bus = {'fan': ['0-0044'],
            'thermal': ['0-0068', '0-0049','0-004a','0-004b','0-004c','0-004d','0-0048','0-004f'],
            'psu': ['0-005a','0-0059'],
-           'qsfp': ['0-0061']}
+           'qsfp': ['0-0010']}
 
 i2c_nodes = {'fan': ['front_speed_rpm', 'rear_speed_rpm'],
              'thermal': ['temp1_input'],
              'psu': ['present', 'power_good'],
              'qsfp': ['module_present_']}
 
-sfp_map = [10, 11, 12, 13, 14, 15, 16, 17,
-           18, 19, 20, 21, 22, 23, 24, 25,
-           26, 27, 28, 29, 30, 31, 32, 33,
-           34, 35, 36, 37, 38, 39, 40, 41]
+sfp_map = ['10', '11', '12', '13', '14', '15', '16', '17',
+           '18', '19', '1a', '1b', '1c', '1d', '1e', '1f',
+           '20', '21', '22', '23', '24', '25', '26', '27',
+           '28', '29', '2a', '2b', '2c', '2d', '2e', '2f']
 
 mknod =[
 'echo wistron_fpga 0x30 > /sys/bus/i2c/devices/i2c-0/new_device',
 'echo wistron_cpld1 0x6 > /sys/bus/i2c/devices/i2c-0/new_device',
 'echo wistron_cpld2 0x7 > /sys/bus/i2c/devices/i2c-0/new_device',
 # FAN
-'echo wistron_fan 0x23 > /sys/bus/i2c/devices/i2c-0/new_device',
+'echo wistron_fan 0x44 > /sys/bus/i2c/devices/i2c-0/new_device',
 # Thermal
 'echo wistron_thermal 0x68 > /sys/bus/i2c/devices/i2c-0/new_device',
 'echo wistron_thermal 0x49 > /sys/bus/i2c/devices/i2c-0/new_device',
@@ -168,6 +168,7 @@ kos = [
 'modprobe ipmi_msghandler',
 'modprobe ipmi_si',
 'modprobe ipmi_devintf',
+'modprobe ipmi_watchdog',
 'modprobe i2c_dev',
 'modprobe at24',
 'modprobe wistron_6512_32r_syseeprom',
@@ -178,9 +179,26 @@ kos = [
 'modprobe wistron_6512_32r_oom',
 'modprobe wistron_6512_32r_thermal']
 
+kos_wdt = [
+'modprobe iTCO_watchdog',
+        ]
+
 def driver_install():
     global FORCE
     log_os_system("depmod", 1)
+
+    for i in range(0,len(kos_wdt)):
+        rm = kos_wdt[-(i+1)].replace("modprobe", "modprobe -rq")
+        lst = rm.split(" ")
+        print "lst=%s"%lst
+        if len(lst) > 3:
+            del(lst[3])
+        rm = " ".join(lst)
+        status, output = log_os_system(rm, 1)
+        if status:
+            if FORCE == 0:
+                return status
+
     for i in range(0,len(kos)):
         status, output = log_os_system(kos[i], 1)
         time.sleep(1)
@@ -202,6 +220,14 @@ def driver_uninstall():
         if status:
             if FORCE == 0:
                 return status
+
+    for i in range(0,len(kos_wdt)):
+        status, output = log_os_system(kos_wdt[i], 1)
+        time.sleep(1)
+        if status:
+            if FORCE == 0:
+                return status
+
     return 0
 
 def device_install():
@@ -221,22 +247,22 @@ def device_install():
             if FORCE == 0:
                 return status
 
-    for i in range(0,len(sfp_map)):
-        status, output =log_os_system("echo port"+str(i+1)+" > /sys/bus/i2c/devices/0-00"+str(sfp_map[i])+"/port_name", 1)
-        if status:
-            print output
-            if FORCE == 0:
-                return status
+#    for i in range(0,len(sfp_map)):
+#        status, output =log_os_system("echo port"+str(i+1)+" > /sys/bus/i2c/devices/0-00"+sfp_map[i]+"/port_name", 1)
+#        if status:
+#            print output
+#            if FORCE == 0:
+#                return status
 
     for i in range(0,DEVICE_NO['qsfp']):
         if i < 16:
-            status, output =log_os_system("echo 1 > /sys/bus/i2c/devices/0-0006/port_"+ str(i+1) + "_lpmode", 1)
+            status, output =log_os_system("echo 1 > /sys/bus/i2c/devices/0-0006/port"+ str(i+1) + "_modsel", 1)
             if status:
                 print output
                 if FORCE == 0:
                     return status
         else:
-            status, output =log_os_system("echo 1 > /sys/bus/i2c/devices/0-0007/port_"+ str(i+1) + "_lpmode", 1)
+            status, output =log_os_system("echo 1 > /sys/bus/i2c/devices/0-0007/port"+ str(i+1) + "_modsel", 1)
             if status:
                 print output
                 if FORCE == 0:
@@ -247,7 +273,7 @@ def device_uninstall():
     global FORCE
 
     for i in range(0,len(sfp_map)):
-        target = "echo 0x"+str(sfp_map[i])+ " > /sys/bus/i2c/devices/i2c-0/delete_device"
+        target = "echo 0x"+sfp_map[i]+ " > /sys/bus/i2c/devices/i2c-0/delete_device"
         print(target)
         status, output =log_os_system(target, 1)
         if status:
@@ -386,7 +412,7 @@ def show_eeprom(index):
         print("Please install first!")
         return
 
-    node= "/sys/bus/i2c/devices/0-00"+str(sfp_map[int(index)-1])+"/eeprom1"
+    node= "/sys/bus/i2c/devices/0-00"+sfp_map[int(index)-1]+"/eeprom1"
     # check if got hexdump command in current environment
     ret, log = log_os_system("which hexdump", 0)
     ret, log2 = log_os_system("which busybox hexdump", 0)
-- 
2.7.4

